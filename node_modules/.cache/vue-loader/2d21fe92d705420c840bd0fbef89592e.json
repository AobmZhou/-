{"remainingRequest":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asus\\Desktop\\product\\backup\\src\\ChartPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\src\\ChartPage.vue","mtime":1626663232073},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUcmVuZEdyYXBoIGZyb20gIi4uL2NvbXBvbmVudHMvVHJlbmRHcmFwaCI7CmltcG9ydCBXYXZlR3JhcGggZnJvbSAiLi4vY29tcG9uZW50cy9XYXZlR3JhcGgiOwppbXBvcnQgU3BlY3RydW1HcmFwaCBmcm9tICIuLi9jb21wb25lbnRzL1NwZWN0cnVtR3JhcGgiOwppbXBvcnQgU3BlZWRUcmVuZEdyYXBoIGZyb20gIi4uL2NvbXBvbmVudHMvU3BlZWRUcmVuZEdyYXBoIjsKaW1wb3J0IFRyZW5kQW5hbHlzaXNPcFBhZ2UgZnJvbSAiLi4vY29tcG9uZW50cy9UcmVuZEFuYWx5c2lzT3BQYWdlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVHJlbmRBbmFseXNpcyIsCiAgY29tcG9uZW50czogewogICAgVHJlbmRBbmFseXNpc09wUGFnZSwKICAgIFNwZWVkVHJlbmRHcmFwaCwKICAgIFNwZWN0cnVtR3JhcGgsCiAgICBXYXZlR3JhcGgsCiAgICBUcmVuZEdyYXBoLAogIH0sDQogIAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbG5hbWU6IG51bGwsCiAgICAgIHN0aW1lOiBudWxsLAogICAgICBldGltZTogbnVsbCwKICAgICAgZnVsbElkOiAwLAogICAgICBpc0Z1bGw6IGZhbHNlLAogICAgICBzaG93T3BQYWdlOiB0cnVlLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgZ3JhcGhoZWlnaHQ6IDMzLjMgKyAnJScsCiAgICAgIGZhbGxncmFwaGhlaWdodDogJzAlJywKICAgICAgdW5pdG5hbWU6ICfmnLrms7XkuJPnlKjlm77osLEt6LaL5Yq/5YiG5p6QJywKICAgICAgb25seW5hbWU6ICcnLAogICAgICBvbmx5b25lOiAwLAogICAgICBub3d0cmVlOiBudWxsLAogICAgICBjaGFydGRhdGE6IG51bGwsCiAgICAgIG15aW50ZXJ2YWw6IG51bGwsCiAgICAgIG5vd3BvaW50aWQ6IG51bGwsCiAgICAgIHRvbmdkYW86IG51bGwsCiAgICAgIGdyYXBodHlwZTogbnVsbCwKICAgICAgaW50ZXJ2YWxmbGFnOiAwLAogICAgICBiYWNrbWFwOiBudWxsLAogICAgICB0ZXh0bWFwOiBudWxsLAogICAgICBjb2xvcm1hcDogbnVsbCwKICAgICAgbm93ZGF0YTogbnVsbCwKICAgICAgbm93dHlwZTpudWxsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdmFyIG15bWFwID0gbmV3IE1hcCgpOwogICAgbXltYXAuc2V0KCcwJywgIiNGRkU0QzQiKTsKICAgIG15bWFwLnNldCgnMScsICIjMDBGRkZGIik7CiAgICBteW1hcC5zZXQoJzInLCAiIzRCMDA4MiIpOwogICAgbXltYXAuc2V0KCczJywgIiNGMEU2OEMiKTsKICAgIG15bWFwLnNldCgnNCcsICIjNzc4ODk5Iik7CiAgICBteW1hcC5zZXQoJzUnLCAiIzdCNjhFRSIpOwogICAgbXltYXAuc2V0KCc2JywgIiNGRjAwMDAiKTsKICAgIG15bWFwLnNldCgnNycsICIjRkZGQUZBIik7CiAgICBteW1hcC5zZXQoJzgnLCAiIzAwODA4MCIpOwogICAgbXltYXAuc2V0KCc5JywgIiNGQTgwNzIiKTsKICAgIG15bWFwLnNldCgnMTAnLCAiI0QzRDNEMyIpOwogICAgbXltYXAuc2V0KCcxMScsICIjRkZGRkUwIik7CiAgICB0aGlzLmNvbG9ybWFwID0gbXltYXA7CiAgICBteW1hcCA9IG5ldyBNYXAoKTsKICAgIG15bWFwLnNldCgnMCcsICLpgJrpopEiKTsKICAgIG15bWFwLnNldCgnMScsICIx5YCN6aKR5bmF5YC8Iik7CiAgICBteW1hcC5zZXQoJzInLCAiMuWAjemikeW5heWAvCIpOwogICAgbXltYXAuc2V0KCczJywgIjPlgI3popHluYXlgLwiKTsKICAgIG15bWFwLnNldCgnNCcsICIxLzLlgI3popHluYXlgLwiKTsKICAgIG15bWFwLnNldCgnNScsICLmrovmjK8iKTsKICAgIG15bWFwLnNldCgnNicsICLnm7TmtYHph48iKTsKICAgIG15bWFwLnNldCgnNycsICLpl7TpmpnnlLXljosiKTsKICAgIG15bWFwLnNldCgnOCcsICIx5YCN6aKR55u45L2NIik7CiAgICBteW1hcC5zZXQoJzknLCAiMuWAjemikeebuOS9jSIpOwogICAgbXltYXAuc2V0KCcxMCcsICIz5YCN6aKR55u45L2NIik7CiAgICBteW1hcC5zZXQoJzExJywgIjEvMuWAjemikeebuOS9jSIpOwogICAgdGhpcy50ZXh0bWFwID0gbXltYXA7CiAgICBteW1hcCA9IG5ldyBNYXAoKTsKICAgIG15bWFwLnNldCgiMCIsICdhbGwnKTsKICAgIG15bWFwLnNldCgiMSIsICdvbmUnKTsKICAgIG15bWFwLnNldCgiMiIsICd0d28nKTsKICAgIG15bWFwLnNldCgiMyIsICd0aHJlZScpOwogICAgbXltYXAuc2V0KCI0IiwgJ2hhbGYnKTsKICAgIG15bWFwLnNldCgiNSIsICdyZXMnKTsKICAgIG15bWFwLnNldCgiNiIsICdkYycpOwogICAgbXltYXAuc2V0KCI3IiwgJ2dhcCcpOwogICAgbXltYXAuc2V0KCI4IiwgJ3BoYXNlT25lJyk7CiAgICBteW1hcC5zZXQoIjkiLCAncGhhc2VUd28nKTsKICAgIG15bWFwLnNldCgiMTAiLCAncGhhc2VUaHJlZScpOwogICAgbXltYXAuc2V0KCIxMSIsICdwaGFzZUhhbGYnKTsKICAgIHRoaXMuYmFja21hcCA9IG15bWFwOwoKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy4kZW1pdCgnY2hhbmdlbmFtZScsIHRoaXMudW5pdG5hbWUpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5vZGVEYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubm9kZURhdGE7CiAgICB9LAogICAgZXF1aWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5lcXVpZDsKICAgIH0sCiAgICBub2RlTnVtKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubm9kZU51bTsKICAgIH0sCiAgICBlcXVOYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZXF1TmFtZTsKICAgIH0sCiAgICBmZWF0dXJlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmZlYXR1cmVzOwogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICBlcXVpZCgpewogICAgICB0aGlzLmNsZWFyY2hhcnQoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZWRibGNsaWNrKGlkKXsKICAgICAgaWYodGhpcy5pc0Z1bGwpewogICAgICAgIHRoaXMuaXNGdWxsID0gZmFsc2UKICAgICAgICB0aGlzLmZ1bGxJZCA9IDAKICAgICAgICB0aGlzLiRyZWZzLnRyZW5kZy5zZXRJc0Z1bGwoZmFsc2UpOwogICAgICAgIHRoaXMuJHJlZnMudHJlbmRnX2Fub3RoZXIuc2V0SXNGdWxsKGZhbHNlKTsKICAgICAgICB0aGlzLiRyZWZzLndhdmVnLnNldElzRnVsbChmYWxzZSk7CiAgICAgICAgdGhpcy4kcmVmcy5zcGVjdHJ1bWcuc2V0SXNGdWxsKGZhbHNlKTsKICAgICAgfWVsc2UgewogICAgICAgIHRoaXMuaXNGdWxsID0gdHJ1ZQogICAgICAgIHRoaXMuZnVsbElkID0gaWQKICAgICAgICB0aGlzLiRyZWZzLnRyZW5kZy5zZXRJc0Z1bGwodHJ1ZSk7CiAgICAgICAgdGhpcy4kcmVmcy50cmVuZGdfYW5vdGhlci5zZXRJc0Z1bGwodHJ1ZSk7CiAgICAgICAgdGhpcy4kcmVmcy53YXZlZy5zZXRJc0Z1bGwodHJ1ZSk7CiAgICAgICAgdGhpcy4kcmVmcy5zcGVjdHJ1bWcuc2V0SXNGdWxsKHRydWUpOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKGlkKQoKICAgIH0sCiAgICBoaWdoZXhlKGlkKXsKICAgICAgaWYodGhpcy5pc0Z1bGwpewogICAgICAgIGlmKGlkID09PSB0aGlzLmZ1bGxJZCl7CiAgICAgICAgICByZXR1cm4gIjEwMCUiCiAgICAgICAgfWVsc2UgewogICAgICAgICAgcmV0dXJuICAiMCUiCiAgICAgICAgfQogICAgICB9ZWxzZSB7CiAgICAgICAgcmV0dXJuICIyNSUiCiAgICAgIH0KICAgIH0sCgogICAgc2hvd09ySGlkZSgpIHsKICAgICAgaWYgKHRoaXMuc2hvd09wUGFnZSA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zaG93T3BQYWdlID0gZmFsc2U7CiAgICAgICAgdGhpcy4kZW1pdCgic2hvd09wUGFnZSIsIGZhbHNlKTsKICAgICAgICAvLyB0aGlzLiRyZWZzLnRyZW5kZy5yZXNpemUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dPcFBhZ2UgPSB0cnVlOwogICAgICAgIHRoaXMuJGVtaXQoInNob3dPcFBhZ2UiLCB0cnVlKTsKICAgICAgICAvLyB0aGlzLiRyZWZzLnRyZW5kZy5yZXNpemUoKTsKICAgICAgfQogICAgfSwKICAgIHNob3dncmFwaCgpIHsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5ncmFwaGhlaWdodCA9ICcyMCUnOwogICAgICB0aGlzLmZhbGxncmFwaGhlaWdodCA9ICc0MCUnOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy50cmVuZGcubXljaGFydC5yZXNpemUoKTsKICAgICAgICB0aGlzLiRyZWZzLndhdmVnLm15Y2hhcnQucmVzaXplKCk7CiAgICAgICAgdGhpcy4kcmVmcy5zcGVjdHJ1bWcubXljaGFydC5yZXNpemUoKTsKICAgICAgfSkKCiAgICB9LAogICAgbm90c2hvd2dyYXBoKCkgewogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5ncmFwaGhlaWdodCA9IDEwMCAvIDMgKyAnJSc7CiAgICAgIHRoaXMuZmFsbGdyYXBoaGVpZ2h0ID0gJzAlJzsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMudHJlbmRnLm15Y2hhcnQucmVzaXplKCk7CiAgICAgICAgdGhpcy4kcmVmcy53YXZlZy5teWNoYXJ0LnJlc2l6ZSgpOwogICAgICAgIHRoaXMuJHJlZnMuc3BlY3RydW1nLm15Y2hhcnQucmVzaXplKCk7CiAgICAgIH0pCiAgICB9LAoKICAgIGluZm9uYW1lKG15bmFtZSkgewogICAgICB0aGlzLiRlbWl0KCdzZXRpbmZvbmFtZScsIG15bmFtZSk7CiAgICB9LAogICAgZGF0YWxvYWRpbmcoKSB7CiAgICB9LAoKICAgIHN0b3Bub3dpbnRlcnZhbCgpIHsKICAgICAgaWYgKHRoaXMubXlpbnRlcnZhbCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5teWludGVydmFsKTsKICAgICAgfQogICAgfSwKICAgIHJlZmluZShzdGltZSwgZXRpbWUpIHsKICAgICAgLy8gdGhpcy5kYXRhbG9hZGluZygpOwoKICAgICAgaWYgKHRoaXMudG9uZ2RhbyA9PSAxKSB7CiAgICAgICAgdGhpcy5nZXRoaXNkYW50b25nZGFvRGF0YSh0aGlzLm5vd3BvaW50aWQsIHRoaXMucG9pbnRJZFN0cmluZywgc3RpbWUsIGV0aW1lLCB0aGlzLmxhYmVsbmFtZSkKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5vd3BvaW50aWQsIHRoaXMucG9pbnRJZFN0cmluZywgc3RpbWUsIGV0aW1lLCB0aGlzLnBvaW50dXVpZCwgdGhpcy5ub3d0cmVlLHRoaXMubm93dHlwZSkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldGhpc2R1b3RvbmdkYW9EYXRhKHRoaXMubm93cG9pbnRpZCwgdGhpcy5wb2ludElkU3RyaW5nLCBzdGltZSwgZXRpbWUsIHRoaXMubm93dHJlZSwgdGhpcy5mZWF0dXJlLHRoaXMubm93dHlwZSk7CgogICAgICB9CiAgICB9LAoKICAgIGNhbmNlbFJlZmluZSgpIHsKICAgICAgaWYgKHRoaXMudG9uZ2RhbyA9PSAxKSB7CiAgICAgICAgdGhpcy5nZXRoaXNkYW50b25nZGFvRGF0YSh0aGlzLm5vd3BvaW50aWQsIHRoaXMucG9pbnRJZFN0cmluZywgdGhpcy5zdGltZSwgdGhpcy5ldGltZSwgdGhpcy5sYWJlbG5hbWUpCiAgICAgICAgY29uc29sZS5sb2codGhpcy5ub3dwb2ludGlkLCB0aGlzLnBvaW50SWRTdHJpbmcsIHN0aW1lLCBldGltZSwgdGhpcy5wb2ludHV1aWQsIHRoaXMubm93dHJlZSx0aGlzLm5vd3R5cGUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRoaXNkdW90b25nZGFvRGF0YSh0aGlzLm5vd3BvaW50aWQsIHRoaXMucG9pbnRJZFN0cmluZywgdGhpcy5zdGltZSwgdGhpcy5ldGltZSwgdGhpcy5ub3d0cmVlLCB0aGlzLmZlYXR1cmUsdGhpcy5ub3d0eXBlKTsKCiAgICAgIH0KICAgIH0sCgogICAgZHJhd2hpc3RvcnlkdW90b25nZGFvKGVxdWlwbWVudFV1aWQsIHBvaW50SWRTdHJpbmcsIHN0aW1lLCBldGltZSwgbXl0cmVlLCBmZWF0dXJlLHR5cGUpIHsKICAgICAgdGhpcy50b25nZGFvID0gMDsKICAgICAgdGhpcy5ncmFwaHR5cGUgPSAn5Y6G5Y+yJzsKICAgICAgdGhpcy5ub3d0cmVlID0gbXl0cmVlOwogICAgICB0aGlzLm5vd3BvaW50aWQgPSBlcXVpcG1lbnRVdWlkOwogICAgICB0aGlzLnBvaW50SWRTdHJpbmcgPSBwb2ludElkU3RyaW5nOwogICAgICB0aGlzLmZlYXR1cmUgPSBmZWF0dXJlOwogICAgICB0aGlzLm5vd3R5cGU9dHlwZTsKICAgICAgdGhpcy5zdGltZSA9IHN0aW1lOwogICAgICB0aGlzLmV0aW1lID0gZXRpbWU7CiAgICAgIHRoaXMuZ2V0aGlzZHVvdG9uZ2Rhb0RhdGEoZXF1aXBtZW50VXVpZCwgcG9pbnRJZFN0cmluZywgc3RpbWUsIGV0aW1lLCBteXRyZWUsIGZlYXR1cmUsdHlwZSk7CiAgICB9LAogICAgZ2V0aGlzZHVvdG9uZ2Rhb0RhdGEoZXF1aXBtZW50VXVpZCwgcG9pbnRJZFN0cmluZywgc3RpbWUsIGV0aW1lLCBteXRyZWUsIGZlYXR1cmUsdHlwZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhteXRyZWUsIGZlYXR1cmUsdHlwZSkKICAgICAgLy8gY29uc29sZS5sb2coIioqKioqKioqKioqKioqKioqKio4OCIpCiAgICAgIHZhciB0ZXh0bmFtZSA9IHRoaXMudGV4dG1hcC5nZXQoZmVhdHVyZS50b1N0cmluZygpKTsKICAgICAgdGhpcy5vbmx5bmFtZSA9IHRleHRuYW1lOwogICAgICB2YXIgdGV4dHN0cmluZyA9IHRoaXMuYmFja21hcC5nZXQoZmVhdHVyZS50b1N0cmluZygpKTsKICAgICAgdGhpcy5vbmx5b25lID0gdGV4dHN0cmluZzsKICAgICAgdmFyIGVxdWlwbWVudFV1aWQxID0gZW5jb2RlVVJJQ29tcG9uZW50KGVxdWlwbWVudFV1aWQpOwogICAgICB2YXIgcG9pbnRJZFN0cmluZzEgPSBlbmNvZGVVUklDb21wb25lbnQocG9pbnRJZFN0cmluZyk7CiAgICAgIHZhciBuZXRpbmZvciA9ICggJy90cmVuZC8nICsgZXF1aXBtZW50VXVpZDEgKyAnLycgKyBwb2ludElkU3RyaW5nMSArICcvJyArIHN0aW1lICsgJy8nICsgZXRpbWUgKyAiL2luZm8iKTsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KG5ldGluZm9yLyosIHsKICAgICAgICBjYW5jZWxUb2tlbjogbmV3IENhbmNlbFRva2VuKChjKSA9PiB7CiAgICAgICAgICAvLyBleGVjdXRvciDlh73mlbDmjqXmlLbkuIDkuKogY2FuY2VsIOWHveaVsOS9nOS4uuWPguaVsAogICAgICAgICAgdGhpcy5jYW5jZWwgPSBjOwogICAgICAgIH0pCiAgICAgIH0qLykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygiNDQiKQogICAgICAgICAgdGhpcy5jaGFydGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5jaGFydGRhdGEuZXF1aXBtZW50TmFtZSArICcg5Y6G5Y+yJzsKICAgICAgICAgIHZhciB0cmVuZGluZm8gPSB0aGlzLmNoYXJ0ZGF0YS50cmVuZEluZm87CiAgICAgICAgICB2YXIgZmxhZ1ggPSAnW+aXtumXtF0nOwogICAgICAgICAgdmFyIGZsYWdZID0gJ1tdJzsKICAgICAgICAgIGZsYWdZPSdbJyArIHRoaXMuZmVhdHVyZXNbdHlwZV1bdGhpcy5mZWF0dXJlXS51bml0ICsgJ10nOwogICAgICAgIC8qICBpZih0cmVuZGluZm8ubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgZmxhZ1kgPSAnWycgKyByZXMuZGF0YS5kYXRhLnRyZW5kSW5mb1swXS51bml0ICsgJ10nIHx8ICdbdW1dJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBmbGFnWSA9ICdbdW1dJzsKICAgICAgICAgIH0qLwogICAgICAgICAgdmFyIGRhdGFYID0gW107CiAgICAgICAgICB2YXIgZGF0YVkgPSBbXTsKICAgICAgICAgIHZhciB2YWx1ZVkgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5ub3d0cmVlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIHZhbHVlWS5wdXNoKFtdKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vICB0aGF0LnRpbWVzdGFtcFRvVGltZSh0aGlzLmNoYXJ0ZGF0YS50cmVuZFRpbWUpOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVuZGluZm8ubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgZGF0YVgucHVzaCh0aGlzLnRpbWVzdGFtcFRvVGltZSh0cmVuZGluZm9baV0udHJlbmRUaW1lKSk7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgdGhpcy5ub3d0cmVlLmxlbmd0aDsgKytqKSB7CiAgICAgICAgICAgICAgdmFsdWVZW2ogLSAxXS5wdXNoKHRyZW5kaW5mb1tpXS50cmVuZFZhbHVlW2ogLSAxXVt0aGlzLm9ubHlvbmVdKQogICAgICAgICAgICB9CiAgICAgICAgICB9CgoKICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5ub3d0cmVlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGRhdGFZLnB1c2goewogICAgICAgICAgICAgIG5hbWU6IHRoaXMubm93dHJlZVtpXS5sYWJlbCwKICAgICAgICAgICAgICBkYXRhOiB2YWx1ZVlbaSAtIDFdLAogICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9ybWFwLmdldChpLnRvU3RyaW5nKCkpCiAgICAgICAgICAgIH0pCgoKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgbmV3WSA9IFt7bmFtZTogdGhpcy5lcXVOYW1lLCBkYXRhOiB0cmVuZGluZm8ubWFwKGl0ZW0gPT4gaXRlbS5yZXYpfV07CiAgICAgICAgICBpZihkYXRhWC5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy50cmVuZGcuc2V0Y2hhcnQoZmxhZ1gsIGZsYWdZLCBkYXRhWCwgZGF0YVksIHRpdGxlKTsKICAgICAgICAgICAgdGhpcy4kcmVmcy50cmVuZGdfYW5vdGhlci5zZXRjaGFydChmbGFnWCwgJ1tyL21pbl0nLCBkYXRhWCwgbmV3WSwgYCR7dGhpcy5lcXVOYW1lfSDljoblj7LovazpgJ9gKTsKICAgICAgICAgICAgdmFyIG15aW5mbyA9IHsKICAgICAgICAgICAgICBuYW1lOiBkYXRhWFswXSwKICAgICAgICAgICAgICBzZXJpZXNOYW1lOiB0aGlzLm5vd3RyZWVbMV0ubGFiZWwsCiAgICAgICAgICAgICAgLy8gIHNlcmllc0lEOnRoaXMubm93dHJlZVsxXS5pZAoKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5kcmF3V2F2ZVNwZWN0cnVtKG15aW5mbykKICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2xlYXJjaGFydCgpOwogICAgICAgICAgdGhpcy4kZW1pdCgnZGF0YWZhaWwnKQogICAgICAgICAgLy90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSkKCgogICAgfSwKCgoKICAgIGFkZHJlYWxkdW90b25nZGFvKGVxdWlkLCBwb2ludGlkcykgewoKCiAgICAgIGlmICh0eXBlb2YgdGhpcy5jYW5jZWwgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMuY2FuY2VsKCkKICAgICAgfQogICAgICBsZXQgZXF1aWQxID0gZW5jb2RlVVJJQ29tcG9uZW50KGVxdWlkKTsKICAgICAgbGV0IHBvaW50aWRzMSA9IGVuY29kZVVSSUNvbXBvbmVudChwb2ludGlkcyk7CiAgICAgIHRoaXMuJGF4aW9zLmdldCgoIi90cmVuZC8iICsgZXF1aWQxICsgIi8iICsgcG9pbnRpZHMxICsgIi9yZWFsX3RpbWUiKSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKCiAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLmNoYXJ0ZGF0YS5lcXVpcG1lbnROYW1lICsgJyDlrp7ml7YnOwoKICAgICAgICAgIHZhciBuZXdYID0gdGhhdC50aW1lc3RhbXBUb1RpbWUodGhpcy5jaGFydGRhdGEudHJlbmRUaW1lKTsKICAgICAgICAgIHZhciBkYXRhWSA9IFtdOwogICAgICAgICAgdmFyIG5ld1lfcmV2ID0gW107CiAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMubm93dHJlZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICB2YXIgbmV3WSA9IHRoaXMuY2hhcnRkYXRhLnRyZW5kVmFsdWVbaSAtIDFdW3RoaXMub25seW9uZV07CiAgICAgICAgICAgIGRhdGFZLnB1c2gobmV3WSk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgbm93bnVtX3JldiA9IHRoaXMuY2hhcnRkYXRhLnJldjsKICAgICAgICAgIG5ld1lfcmV2LnB1c2gobm93bnVtX3Jldik7CgogICAgICAgICAgdmFyIHdhdmVkYXRhID0gdGhpcy5jaGFydGRhdGEud2F2ZVZhbHVlIHx8IHsKICAgICAgICAgICAgd2F2ZVVuaXQ6IHt9CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHdhdmV4ID0gJ1snICsgd2F2ZWRhdGEud2F2ZVVuaXQueCArICddJyB8fCAnJzsKICAgICAgICAgIHZhciB3YXZleSA9ICdbJyArIHdhdmVkYXRhLndhdmVVbml0LnkgKyAnXScgfHwgJyc7CiAgICAgICAgICB2YXIgd2F2ZWRhdGFYID0gd2F2ZWRhdGEud2F2ZVggfHwgW107CiAgICAgICAgICB2YXIgd2F2ZWRhdGFZID0gewogICAgICAgICAgICBuYW1lOiB0aGlzLm5vd3RyZWVbMV0ubGFiZWwsCiAgICAgICAgICAgIGRhdGE6IHdhdmVkYXRhLndhdmVZIHx8IFtdCiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciBzcGVjdHJ1bWRhdGEgPSB0aGlzLmNoYXJ0ZGF0YS5zcGVjdHJ1bVZhbHVlIHx8IHsKICAgICAgICAgICAgc3BlY3RydW1Vbml0OiB7fQogICAgICAgICAgfTsKICAgICAgICAgIHZhciBzcGVjdHJ1bXggPSAnWycgKyBzcGVjdHJ1bWRhdGEuc3BlY3RydW1Vbml0LnggKyAnXScgfHwgJyc7CiAgICAgICAgICB2YXIgc3BlY3RydW15ID0gJ1snICsgc3BlY3RydW1kYXRhLnNwZWN0cnVtVW5pdC55ICsgJ10nIHx8ICcnOwogICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YVggPSBzcGVjdHJ1bWRhdGEuc3BlY3RydW1YIHx8IFtdOwogICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YVkgPSB7CiAgICAgICAgICAgIG5hbWU6IHRoaXMubm93dHJlZVsxXS5sYWJlbCwKICAgICAgICAgICAgZGF0YTogc3BlY3RydW1kYXRhLnNwZWN0cnVtWSB8fCBbXQogICAgICAgICAgfTsKCgogICAgICAgICAgdGhpcy4kcmVmcy50cmVuZGcuY2hhbmdlY2hhcnQobmV3WCwgZGF0YVkpOwoKICAgICAgICAgIHRoaXMuJHJlZnMudHJlbmRnX2Fub3RoZXIuY2hhbmdlY2hhcnQobmV3WCwgbmV3WV9yZXYpOwogICAgICAgICAgdGhpcy4kcmVmcy53YXZlZy5zZXRjaGFydCh3YXZleCwgd2F2ZXksIHdhdmVkYXRhWCwgd2F2ZWRhdGFZLCB0aXRsZSwgbmV3WCk7CiAgICAgICAgICB0aGlzLiRyZWZzLnNwZWN0cnVtZy5zZXRjaGFydChzcGVjdHJ1bXgsIHNwZWN0cnVteSwgc3BlY3RydW1kYXRhWCwgc3BlY3RydW1kYXRhWSwgdGl0bGUsIG5ld1gpOwoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jbGVhcmNoYXJ0KCk7CiAgICAgICAgICB0aGlzLiRlbWl0KCdkYXRhZmFpbCcpCiAgICAgICAgICAvL3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KQoKICAgIH0sCiAgICBkcmF3cmVhbGR1b3RvbmdkYW8oZXF1aWQsIHBvaW50aWRzLCBteXRyZWUsIGZlYXV0cmUsdHlwZSkgewogICAgICBjb25zb2xlLmxvZygiMkBAQEBAQEBAQEBAQEBAQEBAQEBAIix0eXBlLGZlYXV0cmUpOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZlYXR1cmVzW3R5cGVdW2ZlYXV0cmVdLnVuaXQpCiAgICAgIHRoaXMudG9uZ2RhbyA9IDA7CiAgICAgIHRoaXMuZ3JhcGh0eXBlID0gJ+WunuaXticKICAgICAgdGhpcy5ub3d0cmVlID0gbXl0cmVlOwogICAgICB2YXIgdGV4dG5hbWUgPSB0aGlzLnRleHRtYXAuZ2V0KGZlYXV0cmUudG9TdHJpbmcoKSk7CiAgICAgIHRoaXMub25seW5hbWUgPSB0ZXh0bmFtZTsKICAgICAgdmFyIHRleHRzdHJpbmcgPSB0aGlzLmJhY2ttYXAuZ2V0KGZlYXV0cmUudG9TdHJpbmcoKSk7CiAgICAgIHRoaXMub25seW9uZSA9IHRleHRzdHJpbmc7CgogICAgICBpZiAodHlwZW9mIHRoaXMuY2FuY2VsID09ICdmdW5jdGlvbicpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpCiAgICAgIH0KICAgICAgdmFyIGVxdWlkMSA9IGVuY29kZVVSSUNvbXBvbmVudChlcXVpZCk7CiAgICAgIHZhciBwb2ludGlkczEgPSBlbmNvZGVVUklDb21wb25lbnQocG9pbnRpZHMpOwoKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCIvdHJlbmQvIiArIGVxdWlkMSArICIvIiArIHBvaW50aWRzMSArICIvcmVhbF90aW1lIi8qLCB7CiAgICAgICAgY2FuY2VsVG9rZW46IG5ldyBDYW5jZWxUb2tlbigoYykgPT4gewogICAgICAgICAgLy8gZXhlY3V0b3Ig5Ye95pWw5o6l5pS25LiA5LiqIGNhbmNlbCDlh73mlbDkvZzkuLrlj4LmlbAKICAgICAgICAgIHRoaXMuY2FuY2VsID0gYzsKICAgICAgICB9KQogICAgICB9Ki8pLnRoZW4ocmVzID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZygnZ28zJywgcmVzKQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnbzInKQogICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgdGhpcy5jaGFydGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5jaGFydGRhdGEuZXF1aXBtZW50TmFtZSArICcg5a6e5pe2JzsKICAgICAgICAgIHZhciB0aXRsZV9yZXYgPSB0aGlzLmVxdU5hbWUgKyAnIOWunuaXtui9rOmAnyc7CiAgICAgICAgICB2YXIgbmV3WCA9IHRoYXQudGltZXN0YW1wVG9UaW1lKHRoaXMuY2hhcnRkYXRhLnRyZW5kVGltZSk7CgogICAgICAgICAgdmFyIGZsYWdYID0gJ1vml7bpl7RdJzsKICAgICAgICAgIHZhciBmbGFnWSA9ICcnOwogICAgICAgICAgZmxhZ1k9J1snICsgdGhhdC5mZWF0dXJlc1t0eXBlXVtmZWF1dHJlXS51bml0ICsgJ10nOwogICAgICAgICAgLy8gaWYgKHRoaXMubm93dHJlZVswXS5sYWJlbC5pbmRleE9mKCfliqDpgJ/luqYnKSAhPSAtMSkgewogICAgICAgICAgLy8gICBmbGFnWSA9ICdbbS9zMl0nOwogICAgICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLm5vd3RyZWVbMF0ubGFiZWwuaW5kZXhPZign6YCf5bqmJykgIT0gLTEpIHsKICAgICAgICAgIC8vICAgZmxhZ1kgPSAnW21tL3NdJzsKICAgICAgICAgIC8vIH0KICAgICAgICAgIHZhciBmbGFnWV9yZXYgPSAnW3IvbWluXSc7CiAgICAgICAgICB2YXIgZGF0YVggPSBbXTsKICAgICAgICAgIHZhciBkYXRhWSA9IFtdOwogICAgICAgICAgdmFyIGRhdGFZX3JldiA9IFtdOwogICAgICAgICAgZGF0YVgucHVzaChuZXdYKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbXl0cmVlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIHZhciBuZXdZID0gdGhpcy5jaGFydGRhdGEudHJlbmRWYWx1ZVtpIC0gMV1bdGV4dHN0cmluZ107CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG15dHJlZVtpXSk7CiAgICAgICAgICAgIGRhdGFZLnB1c2goewogICAgICAgICAgICAgIG5hbWU6IG15dHJlZVtpXS5sYWJlbCwKICAgICAgICAgICAgICBkYXRhOiBbbmV3WV0sCiAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3JtYXAuZ2V0KGkudG9TdHJpbmcoKSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgbm93bnVtX3JldiA9IHRoaXMuY2hhcnRkYXRhLnJldjsKICAgICAgICAgIGRhdGFZX3Jldi5wdXNoKHsKICAgICAgICAgICAgbmFtZTogdGhpcy5lcXVOYW1lLAogICAgICAgICAgICBkYXRhOiBbbm93bnVtX3Jldl0sCiAgICAgICAgICB9KTsKCiAgICAgICAgICB2YXIgd2F2ZWRhdGEgPSB0aGlzLmNoYXJ0ZGF0YS53YXZlVmFsdWUgfHwgewogICAgICAgICAgICB3YXZlVW5pdDp7fQogICAgICAgICAgfTsKICAgICAgICAgIHZhciB3YXZleCA9ICdbJyArIHdhdmVkYXRhLndhdmVVbml0LnggKyAnXScgfHwgJyc7CiAgICAgICAgICB2YXIgd2F2ZXkgPSAnWycgKyB3YXZlZGF0YS53YXZlVW5pdC55ICsgJ10nIHx8ICcnOwogICAgICAgICAgdmFyIHdhdmVkYXRhWCA9IHdhdmVkYXRhLndhdmVYIHx8IFtdOwogICAgICAgICAgdmFyIHdhdmVkYXRhWSA9IHsKICAgICAgICAgICAgbmFtZTogbXl0cmVlWzFdLmxhYmVsLAogICAgICAgICAgICBkYXRhOiB3YXZlZGF0YS53YXZlWSB8fCBbXQogICAgICAgICAgfTsKCiAgICAgICAgICB2YXIgc3BlY3RydW1kYXRhID0gdGhpcy5jaGFydGRhdGEuc3BlY3RydW1WYWx1ZSB8fCB7CiAgICAgICAgICAgIHNwZWN0cnVtVW5pdDp7fQogICAgICAgICAgfTsKICAgICAgICAgIHZhciBzcGVjdHJ1bXggPSAnWycgKyBzcGVjdHJ1bWRhdGEuc3BlY3RydW1Vbml0LnggKyAnXScgfHwgJyc7CiAgICAgICAgICB2YXIgc3BlY3RydW15ID0gJ1snICsgc3BlY3RydW1kYXRhLnNwZWN0cnVtVW5pdC55ICsgJ10nIHx8ICcnOwogICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YVggPSBzcGVjdHJ1bWRhdGEuc3BlY3RydW1YIHx8IFtdOwogICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YVkgPSB7CiAgICAgICAgICAgIG5hbWU6IG15dHJlZVsxXS5sYWJlbCwKICAgICAgICAgICAgZGF0YTogc3BlY3RydW1kYXRhLnNwZWN0cnVtWSB8fCBbXQogICAgICAgICAgfTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdpdCBnb2VzJykKCiAgICAgICAgICB0aGlzLiRyZWZzLnRyZW5kZy5zZXRjaGFydChmbGFnWCwgZmxhZ1ksIGRhdGFYLCBkYXRhWSwgdGl0bGUpOwogICAgICAgICAgdmFyIGRhdGFYWCA9IFtdOwogICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGRhdGFYLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGRhdGFYWC5wdXNoKGRhdGFYW2ldKQogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuJHJlZnMudHJlbmRnX2Fub3RoZXIuc2V0Y2hhcnQoZmxhZ1gsIGZsYWdZX3JldiwgZGF0YVhYLCBkYXRhWV9yZXYsIHRpdGxlX3Jldik7CiAgICAgICAgICB0aGlzLiRyZWZzLndhdmVnLnNldGNoYXJ0KHdhdmV4LCB3YXZleSwgd2F2ZWRhdGFYLCB3YXZlZGF0YVksIHRpdGxlLCBuZXdYKTsKICAgICAgICAgIHRoaXMuJHJlZnMuc3BlY3RydW1nLnNldGNoYXJ0KHNwZWN0cnVteCwgc3BlY3RydW15LCBzcGVjdHJ1bWRhdGFYLCBzcGVjdHJ1bWRhdGFZLCB0aXRsZSwgbmV3WCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gdGhpcy4kZW1pdCgnZGF0YWZhaWwnKQogICAgICAgICAgLy90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgZHJhd2hpc3RvcnlkYW50b25nZGFvKGVxdWlwbWVudFV1aWQsIHBvaW50SWRTdHJpbmcsIHN0aW1lLCBldGltZSwgcG9pbnR1dWlkLCBteXRyZWUsbGFiZWxuYW1lKSB7ICAgLy/ljZXpgJrpgZMKICAgICAgdGhpcy50b25nZGFvID0gMTsKICAgICAgdGhpcy5ncmFwaHR5cGUgPSAn5Y6G5Y+yJzsKICAgICAgdGhpcy5ub3d0cmVlID0gbXl0cmVlOwogICAgICB0aGlzLm5vd3BvaW50aWQgPSBlcXVpcG1lbnRVdWlkOwogICAgICB0aGlzLnBvaW50SWRTdHJpbmcgPSBwb2ludElkU3RyaW5nOwogICAgICB0aGlzLnBvaW50dXVpZCA9IHBvaW50dXVpZDsKICAgICAgdGhpcy5zdGltZSA9IHN0aW1lOwogICAgICB0aGlzLmV0aW1lID0gZXRpbWU7CiAgICAgIHRoaXMubGFiZWxuYW1lID0gbGFiZWxuYW1lOwogICAgICAvLyB0aGlzLm5vd3R5cGUgPSB0eXBlCiAgICAgIC8vIGNvbnNvbGUubG9nKCIlJSUlJSUlJSUlJSIsdGhpcy5ub3d0eXBlKQogICAgICB0aGlzLmdldGhpc2RhbnRvbmdkYW9EYXRhKGVxdWlwbWVudFV1aWQsIHBvaW50SWRTdHJpbmcsIHN0aW1lLCBldGltZSxsYWJlbG5hbWUpOwogICAgfSwKCiAgICBjYW5jZWxSZXF1ZXN0KCkgewogICAgICBpZiAodHlwZW9mIHRoaXMuc291cmNlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdGhpcy5zb3VyY2UoJ+e7iOatouivt+axgicpCiAgICAgIH0KICAgIH0sCgogICAgZHJhd1dhdmVTcGVjdHJ1bShteWluZm8pIHsKICAgICAgY29uc29sZS5sb2cobXlpbmZvKQogICAgICBpZiAodGhpcy5ncmFwaHR5cGUgPT09ICfljoblj7InKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coMTExMTExMTExMTExMTExMTEpCiAgICAgICAgLy8gY29uc29sZS5sb2cobXlpbmZvKQogICAgICAgIHZhciBlcXVpcG1lbnRVdWlkID0gdGhpcy5ub3dwb2ludGlkOwogICAgICAgIHZhciB0aGlzdGltZSA9IG15aW5mby5uYW1lOwogICAgICAgIHZhciBub3d0aW1lID0gbmV3IERhdGUodGhpc3RpbWUpLmdldFRpbWUoKTsKICAgICAgICB2YXIgcG9pbnRJZFN0cmluZzsKICAgICAgICB0aGlzLmRhdGFsb2FkaW5nKCk7CiAgICAgICAgdmFyIHBvaW50Tm1hZTsKICAgICAgICBpZiAodGhpcy50b25nZGFvLnRvU3RyaW5nKCkgPT09ICcxJykgewogICAgICAgICAgcG9pbnRJZFN0cmluZyA9IHRoaXMubm93dHJlZVswXS54aWQ7CiAgICAgICAgICBwb2ludE5tYWUgPSB0aGlzLm5vd3RyZWVbMF0ubGFiZWwKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcG9pbnRJZFN0cmluZyA9ICcnOwogICAgICAgICAgY29uc29sZS5sb2coJ25vd3RyZWUnKQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5ub3d0cmVlKQogICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMubm93dHJlZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBpZih0aGlzLm5vd3RyZWVbaV0ubGFiZWwgPT0gbXlpbmZvLnNlcmllc05hbWUpIHsKICAgICAgICAgICAgICBwb2ludElkU3RyaW5nID0gdGhpcy5ub3d0cmVlW2ldLmlkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBwb2ludE5tYWUgPSBteWluZm8uc2VyaWVzTmFtZTsKICAgICAgICB9CgogICAgICAgIHZhciB3YXZlTnVtYmVyID0gMTYzODQ7CiAgICAgICAgdmFyIGFuYWx5c2lzTGluZXMgPSAwOwoKICAgICAgICB2YXIgZXF1aXBtZW50VXVpZDEgPSBlbmNvZGVVUklDb21wb25lbnQoZXF1aXBtZW50VXVpZCk7CiAgICAgICAgdmFyIHBvaW50SWRTdHJpbmcxID0gZW5jb2RlVVJJQ29tcG9uZW50KHBvaW50SWRTdHJpbmcpOwoKICAgICAgICB0aGlzLiRheGlvcy5nZXQoIi93YXZlLXNwZWN0cnVtLyIgKyBlcXVpcG1lbnRVdWlkMSArICcvJyArIHBvaW50SWRTdHJpbmcxICsgJy8nICsgbm93dGltZSArICcvJyArIHdhdmVOdW1iZXIgKyAnLycgKyBhbmFseXNpc0xpbmVzICsgIi9pbmZvIikudGhlbihyZXMgPT4gewoKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgLy8gdGhpcy4kZW1pdCgnZGF0YXN1Y2Nlc3MnKTsKICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLm5vd3RyZWVbMF0ubGFiZWwKICAgICAgICAgICAgdmFyIHdhdmV4ID0gJ1snICsgcmVzLmRhdGEuZGF0YS53YXZlVmFsdWUud2F2ZVVuaXQueCArICddJzsKICAgICAgICAgICAgdmFyIHdhdmV5ID0gJ1snICsgcmVzLmRhdGEuZGF0YS53YXZlVmFsdWUud2F2ZVVuaXQueSArICddJzsKICAgICAgICAgICAgdmFyIGRhdGFYID0gcmVzLmRhdGEuZGF0YS53YXZlVmFsdWUud2F2ZVg7CgogICAgICAgICAgICB2YXIgZGF0YVkgPSB7CiAgICAgICAgICAgICAgbmFtZTogcG9pbnRObWFlLAogICAgICAgICAgICAgIGRhdGE6IHJlcy5kYXRhLmRhdGEud2F2ZVZhbHVlLndhdmVZCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciB0aXRsZSA9IHJlcy5kYXRhLmRhdGEuZXF1aXBtZW50TmFtZSArICcgJyAgKyAnIOWOhuWPsic7CgogICAgICAgICAgICAvL3RoaXN0aW1lID10aW1lc3RhbXBUb1RpbWUodGhpc3RpbWUpOwoKCiAgICAgICAgICAgIHRoaXN0aW1lID0gdGhpcy50aW1lc3RhbXBUb1RpbWUobm93dGltZSk7CgogICAgICAgICAgICB0aGlzLiRyZWZzLndhdmVnLnNldGNoYXJ0KHdhdmV4LCB3YXZleSwgZGF0YVgsIGRhdGFZLCB0aXRsZSwgdGhpc3RpbWUpOwoKICAgICAgICAgICAgdmFyIHNwZWN0cnVteCA9ICdbJyArIHJlcy5kYXRhLmRhdGEuc3BlY3RydW1WYWx1ZS5zcGVjdHJ1bVVuaXQueCArICddJzsKICAgICAgICAgICAgdmFyIHNwZWN0cnVteSA9ICdbJyArIHJlcy5kYXRhLmRhdGEuc3BlY3RydW1WYWx1ZS5zcGVjdHJ1bVVuaXQueSArICddJzsKICAgICAgICAgICAgZGF0YVggPSByZXMuZGF0YS5kYXRhLnNwZWN0cnVtVmFsdWUuc3BlY3RydW1YOwogICAgICAgICAgICB2YXIgZGF0YVkgPSB7CiAgICAgICAgICAgICAgbmFtZTogcG9pbnRObWFlLAogICAgICAgICAgICAgIGRhdGE6IHJlcy5kYXRhLmRhdGEuc3BlY3RydW1WYWx1ZS5zcGVjdHJ1bVkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy4kcmVmcy5zcGVjdHJ1bWcuc2V0Y2hhcnQoc3BlY3RydW14LCBzcGVjdHJ1bXksIGRhdGFYLCBkYXRhWSwgdGl0bGUsIHRoaXN0aW1lKTsKCgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdGhpcy5jbGVhcmNoYXJ0KCk7CiAgICAgICAgICAgIC8vIHRoaXMuJGVtaXQoJ2RhdGFmYWlsJykKICAgICAgICAgICAgdGhpcy4kcmVmcy53YXZlZy5jbGVhcmFsbCgpOwogICAgICAgICAgICB0aGlzLiRyZWZzLnNwZWN0cnVtZy5jbGVhcmFsbCgpOwogICAgICAgICAgICAvL3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZT0+ewogICAgICAgICAgLy8gdGhpcy4kZW1pdCgnZGF0YWZhaWwnKQogICAgICAgICAgdGhpcy4kcmVmcy53YXZlZy5jbGVhcmFsbCgpOwogICAgICAgICAgdGhpcy4kcmVmcy5zcGVjdHJ1bWcuY2xlYXJhbGwoKTsKICAgICAgICB9KQoKICAgICAgfQoKICAgIH0sCgogICAgdGltZXN0YW1wVG9UaW1lKHRpbWVzdGFtcCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7Ly/ml7bpl7TmiLPkuLoxMOS9jemcgCoxMDAw77yM5pe26Ze05oiz5Li6MTPkvY3nmoTor53kuI3pnIDkuZgxMDAwCiAgICAgIHZhciBZID0gZGF0ZS5nZXRGdWxsWWVhcigpICsgJy0nOwogICAgICB2YXIgTSA9IChkYXRlLmdldE1vbnRoKCkgKyAxIDwgMTAgPyAnMCcgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgOiBkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJzsKICAgICAgdmFyIEQgPSAoZGF0ZS5nZXREYXRlKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0RGF0ZSgpIDogZGF0ZS5nZXREYXRlKCkpICsgJyAnOwogICAgICB2YXIgaCA9IChkYXRlLmdldEhvdXJzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0SG91cnMoKSA6IGRhdGUuZ2V0SG91cnMoKSkgKyAnOic7CiAgICAgIHZhciBtID0gKGRhdGUuZ2V0TWludXRlcygpIDwgMTAgPyAnMCcgKyBkYXRlLmdldE1pbnV0ZXMoKSA6IGRhdGUuZ2V0TWludXRlcygpKSArICc6JzsKICAgICAgdmFyIHMgPSAoZGF0ZS5nZXRTZWNvbmRzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0U2Vjb25kcygpIDogZGF0ZS5nZXRTZWNvbmRzKCkpICsgJy4nOwogICAgICB2YXIgbXMgPSAodGltZXN0YW1wICUgMTAwMCkudG9TdHJpbmcoKTsKICAgICAgd2hpbGUgKG1zLmxlbmd0aCA8IDMpIHsKICAgICAgICBtcyA9ICcwJyArIG1zOwogICAgICB9CiAgICAgIC8vdmFyIG5vd3RpbWUgPSBuZXcgRGF0ZShZK00rRCtoK20rcyk7CiAgICAgIHJldHVybiBZICsgTSArIEQgKyBoICsgbSArIHMgKyBtczsKICAgIH0sCgoKICAgIGdldHJlYWxkYW50b25nZGFvKGVxdWlwbWVudFV1aWQsIHBvaW50SWRTdHJpbmcsIHBvaW50dXVpZCwgbXl0cmVlLHR5cGUpIHsKICAgICAgLy8gY29uc29sZS5sb2cobXl0cmVlLHR5cGUpCiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgLy/luK7liqnlkI7pnaLmt7vliqDmlbDmja4KICAgICAgdGhhdC5ub3d0cmVlID0gbXl0cmVlOwogICAgICB0aGF0Lm5vd3BvaW50aWQgPSBwb2ludHV1aWQ7CiAgICAgIHRoYXQudG9uZ2RhbyA9IDE7CiAgICAgIHRoYXQuZ3JhcGh0eXBlID0gJ+WunuaXtic7CiAgICAgIGlmICh0eXBlb2YgdGhpcy5jYW5jZWwgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMuY2FuY2VsKCkKICAgICAgfQogICAgICB2YXIgZXF1aXBtZW50VXVpZDEgPSBlbmNvZGVVUklDb21wb25lbnQoZXF1aXBtZW50VXVpZCk7CiAgICAgIHZhciBwb2ludElkU3RyaW5nMSA9IGVuY29kZVVSSUNvbXBvbmVudChwb2ludElkU3RyaW5nKTsKICAgICAgY29uc29sZS5sb2coIi90cmVuZC8iICsgZXF1aXBtZW50VXVpZCArICcvJyArIHBvaW50SWRTdHJpbmcgKyAiL3JlYWxfdGltZSIpCiAgICAgIHRoYXQuJGF4aW9zLmdldCgoIi90cmVuZC8iICsgZXF1aXBtZW50VXVpZDEgKyAnLycgKyBwb2ludElkU3RyaW5nMSArICIvcmVhbF90aW1lIikvKiwgewogICAgICAgIGNhbmNlbFRva2VuOiBuZXcgQ2FuY2VsVG9rZW4oKGMpID0+IHsKICAgICAgICAgIC8vIGV4ZWN1dG9yIOWHveaVsOaOpeaUtuS4gOS4qiBjYW5jZWwg5Ye95pWw5L2c5Li65Y+C5pWwCiAgICAgICAgICB0aGlzLmNhbmNlbCA9IGM7CiAgICAgICAgfSkKICAgICAgfSovKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIC8vIHRoaXMuJGVtaXQoJ2RhdGFzdWNjZXNzJyk7CiAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIuaJk+WNsOS4gOS4i+i/meS4qumHjOeahG5vd3RyZWVlZWVlZWVlZWVlZWVlIik7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubm93dHJlZVswXSk7CiAgICAgICAgICAgIHZhciBwb2ludG5hbWUgPSB0aGlzLmNoYXJ0ZGF0YS5lcXVpcG1lbnROYW1lICsgJyAnICsgdGhpcy5ub3d0cmVlWzBdLmxhYmVsOwogICAgICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLmNoYXJ0ZGF0YS5lcXVpcG1lbnROYW1lICsnICcrICB0aGlzLm5vd3RyZWVbMF0ubGFiZWwrICcg5a6e5pe2JzsKICAgICAgICAgICAgdmFyIHRpdGxlX3JldiA9IHRoaXMuZXF1TmFtZSArICcg5a6e5pe26L2s6YCfJzsKICAgICAgICAgICAgLy8g5Yid5aeL5YyW6LaL5Yq/5Zu+5pWw5o2uCiAgICAgICAgICAgIHZhciBmbGFnWCA9ICdb5pe26Ze0XSc7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubm93dHJlZSkKICAgICAgICAgICAgdmFyIGZsYWdZID0gJ1tdJzsKICAgICAgICAgICAgZmxhZ1k9J1snICsgdGhhdC5mZWF0dXJlc1t0eXBlXVtteXRyZWVbMV0ueGlkXS51bml0ICsgJ10nOwogICAgICAgICAgIC8qIGlmICh0aGlzLm5vd3RyZWVbMF0udHlwZS5pbmRleE9mKCfliqDpgJ/luqYnKSAhPSAtMSkgewogICAgICAgICAgICAgIGZsYWdZID0gJ1ttL3MyXSc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub3d0cmVlWzBdLnR5cGUuaW5kZXhPZign6YCf5bqmJykgIT0gLTEpIHsKICAgICAgICAgICAgICBmbGFnWSA9ICdbbW0vc10nOwogICAgICAgICAgICB9Ki8KICAgICAgICAgICAgdmFyIGZsYWdZX3JldiA9ICdbci9taW5dJzsKICAgICAgICAgICAgdmFyIGRhdGFYID0gW107CiAgICAgICAgICAgIHZhciBkYXRhWSA9IFtdOwogICAgICAgICAgICB2YXIgZGF0YVlfcmV2ID0gW107CiAgICAgICAgICAgIHZhciBiYWNrID0gdGhpcy5iYWNrbWFwOwogICAgICAgICAgICB0aGlzLm5vd3RyZWUgPSBteXRyZWU7CiAgICAgICAgICAgIHZhciBuZXdYID0gdGhhdC50aW1lc3RhbXBUb1RpbWUodGhpcy5jaGFydGRhdGEudHJlbmRUaW1lKTsKICAgICAgICAgICAgZGF0YVgucHVzaChuZXdYKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5ub3d0cmVlKQogICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMubm93dHJlZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgIHZhciBub3dpZCA9IHRoaXMubm93dHJlZVtpXS54aWQ7CiAgICAgICAgICAgICAgdmFyIG5vd2NvbG9yID0gdGhpcy5jb2xvcm1hcC5nZXQobm93aWQudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgdmFyIG5vd3RleHQgPSB0aGlzLm5vd3RyZWVbaV0ubGFiZWw7CiAgICAgICAgICAgICAgdmFyIG5vd25hbWUgPSB0aGlzLmJhY2ttYXAuZ2V0KG5vd2lkLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgIHZhciBub3dudW0gPSB0aGlzLmNoYXJ0ZGF0YS50cmVuZFZhbHVlWzBdW25vd25hbWVdOwogICAgICAgICAgICAgIGRhdGFZLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogbm93dGV4dCwKICAgICAgICAgICAgICAgIGRhdGE6IFtub3dudW1dLAogICAgICAgICAgICAgICAgY29sb3I6IG5vd2NvbG9yCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBub3dudW1fcmV2ID0gdGhpcy5jaGFydGRhdGEucmV2OwogICAgICAgICAgICBkYXRhWV9yZXYucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdGhpcy5lcXVOYW1lLAogICAgICAgICAgICAgIGRhdGE6IFtub3dudW1fcmV2XSwKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvL+WIneWni+WMluazouW9ouWbvuaVsOaNrgogICAgICAgICAgICB2YXIgd2F2ZWRhdGEgPSB0aGlzLmNoYXJ0ZGF0YS53YXZlVmFsdWUgfHwgewogICAgICAgICAgICAgIHdhdmVVbml0OiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgd2F2ZXggPSAnWycgKyB3YXZlZGF0YS53YXZlVW5pdC54ICsgJ10nIHx8ICcnOwogICAgICAgICAgICB2YXIgd2F2ZXkgPSAnWycgKyB3YXZlZGF0YS53YXZlVW5pdC55ICsgJ10nIHx8ICcnOzsKICAgICAgICAgICAgdmFyIHdhdmVkYXRhWCA9IHdhdmVkYXRhLndhdmVYIHx8IFtdOwogICAgICAgICAgICB2YXIgd2F2ZWRhdGFZID0gewogICAgICAgICAgICAgIG5hbWU6IHRoaXMubm93dHJlZVswXS5sYWJlbCwKICAgICAgICAgICAgICBkYXRhOiB3YXZlZGF0YS53YXZlWSB8fCBbXQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy/liJ3lp4vljJbpopHosLHlm77mlbDmja4KICAgICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YSA9IHRoaXMuY2hhcnRkYXRhLnNwZWN0cnVtVmFsdWV8fCB7CiAgICAgICAgICAgICAgc3BlY3RydW1Vbml0OiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgc3BlY3RydW14ID0gJ1snICsgc3BlY3RydW1kYXRhLnNwZWN0cnVtVW5pdC54ICsgJ10nIHx8ICcnOwogICAgICAgICAgICB2YXIgc3BlY3RydW15ID0gJ1snICsgc3BlY3RydW1kYXRhLnNwZWN0cnVtVW5pdC55ICsgJ10nIHx8ICcnOwogICAgICAgICAgICB2YXIgc3BlY3RydW1kYXRhWCA9IHNwZWN0cnVtZGF0YS5zcGVjdHJ1bVh8fCBbXTsKICAgICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YVkgPSB7CiAgICAgICAgICAgICAgbmFtZTogdGhpcy5ub3d0cmVlWzBdLmxhYmVsLAogICAgICAgICAgICAgIGRhdGE6IHNwZWN0cnVtZGF0YS5zcGVjdHJ1bVl8fCBbXQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy/nlLvlm74KICAgICAgICAgICAgdGhpcy4kcmVmcy50cmVuZGcuc2V0Y2hhcnQoZmxhZ1gsIGZsYWdZLCBkYXRhWCwgZGF0YVksIHRpdGxlKTsKICAgICAgICAgICAgdmFyIGRhdGFYWCA9IFtdCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhWC5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgIGRhdGFYWC5wdXNoKGRhdGFYW2ldKQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoZXJlIGlzIGdvbmUnKQoKICAgICAgICAgICAgICB0aGlzLiRyZWZzLnRyZW5kZ19hbm90aGVyLnNldGNoYXJ0KGZsYWdYLCBmbGFnWV9yZXYsIGRhdGFYWCwgZGF0YVlfcmV2LCB0aXRsZV9yZXYpOwogICAgICAgICAgICAgIHRoaXMuJHJlZnMud2F2ZWcuc2V0Y2hhcnQod2F2ZXgsIHdhdmV5LCB3YXZlZGF0YVgsIHdhdmVkYXRhWSwgdGl0bGUsIG5ld1gpOwogICAgICAgICAgICAgIHRoaXMuJHJlZnMuc3BlY3RydW1nLnNldGNoYXJ0KHNwZWN0cnVteCwgc3BlY3RydW15LCBzcGVjdHJ1bWRhdGFYLCBzcGVjdHJ1bWRhdGFZLCB0aXRsZSwgbmV3WCk7CgoKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJjaGFydCgpOwogICAgICAgICAgICAvLyB0aGlzLiRlbWl0KCdkYXRhZmFpbCcpCiAgICAgICAgICAgIC8vIHRoYXQuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0sCiAgICBhZGRyZWFsZGFudG9uZ2RhbygpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICB2YXIgZXF1aXBtZW50VXVpZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmVxdWlkOwogICAgICB2YXIgcG9pbnRJZFN0cmluZyA9IHRoaXMubm93dHJlZVswXS54aWQ7CgogICAgICBpZiAodHlwZW9mIHRoaXMuY2FuY2VsID09ICdmdW5jdGlvbicpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpCiAgICAgIH0KICAgICAgdmFyIGVxdWlwbWVudFV1aWQxID0gZW5jb2RlVVJJQ29tcG9uZW50KGVxdWlwbWVudFV1aWQpOwogICAgICB2YXIgcG9pbnRJZFN0cmluZzEgPSBlbmNvZGVVUklDb21wb25lbnQocG9pbnRJZFN0cmluZyk7CiAgICAgIHRoaXMuJGF4aW9zLmdldCgiL3RyZW5kLyIgKyBlcXVpcG1lbnRVdWlkMSArICcvJyArIHBvaW50SWRTdHJpbmcxICsgIi9yZWFsX3RpbWUiKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgdmFyIHBvaW50bmFtZSA9IHRoaXMuY2hhcnRkYXRhLmVxdWlwbWVudE5hbWUgKyAnICcgKyB0aGlzLm5vd3RyZWVbMF0ubGFiZWw7CiAgICAgICAgICAgIHZhciB0aXRsZSA9IHRoaXMuY2hhcnRkYXRhLmVxdWlwbWVudE5hbWUgKyAnICcgKyB0aGlzLm5vd3RyZWVbMF0ubGFiZWwgKyAnIOWunuaXtic7CiAgICAgICAgICAgIHZhciB0aXRsZV9yZXYgPSB0aGlzLmNoYXJ0ZGF0YS5lcXVpcG1lbnROYW1lICsgdGhpcy5ub3d0cmVlWzBdLmxhYmVsICsgJyDlrp7ml7bovazpgJ8tJzsKICAgICAgICAgICAgdmFyIG5ld1ggPSB0aGF0LnRpbWVzdGFtcFRvVGltZSh0aGlzLmNoYXJ0ZGF0YS50cmVuZFRpbWUpOwogICAgICAgICAgICB2YXIgbmV3WSA9IFtdOwogICAgICAgICAgICB2YXIgZGF0YVlfcmV2ID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5ub3d0cmVlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgdmFyIG5vd2lkID0gdGhpcy5ub3d0cmVlW2ldLnhpZDsKICAgICAgICAgICAgICB2YXIgbm93bmFtZSA9IHRoaXMuYmFja21hcC5nZXQobm93aWQudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgdmFyIG5vd251bSA9IHRoaXMuY2hhcnRkYXRhLnRyZW5kVmFsdWVbMF1bbm93bmFtZV07CiAgICAgICAgICAgICAgbmV3WS5wdXNoKG5vd251bSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG5vd251bV9yZXYgPSB0aGlzLmNoYXJ0ZGF0YS5yZXY7CiAgICAgICAgICAgIGRhdGFZX3Jldi5wdXNoKG5vd251bV9yZXYpOwoKICAgICAgICAgICAgdmFyIHdhdmVkYXRhID0gdGhpcy5jaGFydGRhdGEud2F2ZVZhbHVlIHx8IHsKICAgICAgICAgICAgICB3YXZlVW5pdDoge30KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIHdhdmV4ID0gJ1snICsgd2F2ZWRhdGEud2F2ZVVuaXQueCArICddJyB8fCAnJzsKICAgICAgICAgICAgdmFyIHdhdmV5ID0gJ1snICsgd2F2ZWRhdGEud2F2ZVVuaXQueSArICddJyB8fCAnJzsKICAgICAgICAgICAgdmFyIHdhdmVkYXRhWCA9IHdhdmVkYXRhLndhdmVYIHx8IFtdOwogICAgICAgICAgICB2YXIgd2F2ZWRhdGFZID0gewogICAgICAgICAgICAgIG5hbWU6IHRoaXMubm93dHJlZVswXS5sYWJlbCwKICAgICAgICAgICAgICBkYXRhOiB3YXZlZGF0YS53YXZlWSB8fCBbXQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIHNwZWN0cnVtZGF0YSA9IHRoaXMuY2hhcnRkYXRhLnNwZWN0cnVtVmFsdWV8fCB7CiAgICAgICAgICAgICAgc3BlY3RydW1Vbml0OiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgc3BlY3RydW14ID0gJ1snICsgc3BlY3RydW1kYXRhLnNwZWN0cnVtVW5pdC54ICsgJ10nIHx8ICcnOwogICAgICAgICAgICB2YXIgc3BlY3RydW15ID0gJ1snICsgc3BlY3RydW1kYXRhLnNwZWN0cnVtVW5pdC55ICsgJ10nIHx8ICcnOwogICAgICAgICAgICB2YXIgc3BlY3RydW1kYXRhWCA9IHNwZWN0cnVtZGF0YS5zcGVjdHJ1bVggfHwgW107CiAgICAgICAgICAgIHZhciBzcGVjdHJ1bWRhdGFZID0gewogICAgICAgICAgICAgIG5hbWU6IHRoaXMubm93dHJlZVswXS5sYWJlbCwKICAgICAgICAgICAgICBkYXRhOiBzcGVjdHJ1bWRhdGEuc3BlY3RydW1ZIHx8IFtdCiAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgdGhpcy4kcmVmcy50cmVuZGcuY2hhbmdlY2hhcnQobmV3WCwgbmV3WSk7CiAgICAgICAgICAgIHRoaXMuJHJlZnMudHJlbmRnX2Fub3RoZXIuY2hhbmdlY2hhcnQobmV3WCwgZGF0YVlfcmV2KTsKICAgICAgICAgICAgdGhpcy4kcmVmcy53YXZlZy5zZXRjaGFydCh3YXZleCwgd2F2ZXksIHdhdmVkYXRhWCwgd2F2ZWRhdGFZLCB0aXRsZSwgbmV3WCk7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuc3BlY3RydW1nLnNldGNoYXJ0KHNwZWN0cnVteCwgc3BlY3RydW15LCBzcGVjdHJ1bWRhdGFYLCBzcGVjdHJ1bWRhdGFZLCB0aXRsZSwgbmV3WCkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJjaGFydCgpOwogICAgICAgICAgICAvLyB0aGlzLiRlbWl0KCdkYXRhZmFpbCcpCiAgICAgICAgICAgIC8vIHRoYXQuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKCgogICAgfSwKCiAgICBnZXRoaXNkYW50b25nZGFvRGF0YShlcXVpcG1lbnRVdWlkLCBwb2ludElkU3RyaW5nLCBzdGltZSwgZXRpbWUsIGxhYmxlbmFtZSkgewogICAgICAvLyB0aGlzLm5vd3R5cGU9dHlwZTsKICAgICAgY29uc29sZS5sb2codGhpcy5ub3d0cmVlICkKICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIyMjIyMjIyMjIyMjIikKCiAgICAgIGxldCB0aGF0ID0gdGhpczsKCiAgICAgIHZhciBlcXVpcG1lbnRVdWlkMSA9IGVuY29kZVVSSUNvbXBvbmVudChlcXVpcG1lbnRVdWlkKTsKICAgICAgdmFyIHBvaW50SWRTdHJpbmcxID0gZW5jb2RlVVJJQ29tcG9uZW50KHBvaW50SWRTdHJpbmcpOwogICAgICB2YXIgbmV0aW5mb3IgPSAoJy90cmVuZC8nICsgZXF1aXBtZW50VXVpZDEgKyAnLycgKyBwb2ludElkU3RyaW5nMSArICcvJyArIHN0aW1lICsgJy8nICsgZXRpbWUgKyAiL2luZm8iKTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbmNlbCA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKQogICAgICB9CiAgICAgIHRoaXMuJGF4aW9zLmdldChuZXRpbmZvci8qLCB7CiAgICAgICAgY2FuY2VsVG9rZW46IG5ldyBDYW5jZWxUb2tlbigoYykgPT4gewogICAgICAgICAgLy8gZXhlY3V0b3Ig5Ye95pWw5o6l5pS25LiA5LiqIGNhbmNlbCDlh73mlbDkvZzkuLrlj4LmlbAKICAgICAgICAgIHRoaXMuY2FuY2VsID0gYzsKICAgICAgICB9KQogICAgICB9Ki8pCgogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgdmFyIGZsYWdYID0gJ1vml7bpl7RdJzsKICAgICAgICAgICAgdmFyIGZsYWdZID0gJ1tdJzsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5ub3d0cmVlLCLov5nkuKrmoJHnqbbnq5/mmK/ku4DkuYgiKQogICAgICAgICAgICBpZih0aGlzLm5vd3RyZWVbMF0udHlwZSA9PSAi5oyv5YqoLeS9jeenuyIgfHx0aGlzLm5vd3RyZWVbMF0udHlwZSA9PSAi5oyv5YqoLeWKoOmAn+W6piIgKXsKICAgICAgICAgICAgICB0aGlzLm5vd3R5cGU9MTEzCiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMubm93dHJlZVswXS50eXBlID09ICLmjK/liqgt6YCf5bqmIil7CiAgICAgICAgICAgICAgdGhpcy5ub3d0eXBlPTExNAogICAgICAgICAgICB9CiAgICAgICAgICAgICBmbGFnWT0nWycgKyB0aGF0LmZlYXR1cmVzW3RoaXMubm93dHlwZV1bdGhpcy5ub3d0cmVlWzFdLnhpZF0udW5pdCArICddJzsKICAgICAgICAgICAvKiBpZiAocmVzLmRhdGEuZGF0YS50cmVuZEluZm8ubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHZhciBmbGFnWSA9ICdbJyArIHJlcy5kYXRhLmRhdGEudHJlbmRJbmZvWzBdLnVuaXQgKyAnXScgfHwgJ1t1bV0nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBmbGFnWSA9ICdbdW1dJzsKICAgICAgICAgICAgfSovCiAgICAgICAgICAgIHZhciBkYXRhWCA9IFtdOwogICAgICAgICAgICB2YXIgZGF0YVkgPSBbXTsKICAgICAgICAgICAgdmFyIGJhY2sgPSB0aGlzLmJhY2ttYXA7CiAgICAgICAgICAgIHZhciB0aXRsZSA9IHRoaXMuY2hhcnRkYXRhLmVxdWlwbWVudE5hbWUgKyAnICcrIHRoaXMubm93dHJlZVswXS5sYWJlbCArICcg5Y6G5Y+yJzsKCiAgICAgICAgICAgIHZhciBub3dkYXRhcyA9IHRoaXMuY2hhcnRkYXRhLnRyZW5kSW5mbzsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm93ZGF0YXMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICB2YXIgbmV3WCA9IHRoYXQudGltZXN0YW1wVG9UaW1lKG5vd2RhdGFzW2ldLnRyZW5kVGltZSk7CiAgICAgICAgICAgICAgZGF0YVgucHVzaChuZXdYKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5vd3RyZWUsInRoaXMubm93dHJlZSIpCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5ub3d0cmVlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgdmFyIG5vd2lkID0gdGhpcy5ub3d0cmVlW2ldLnhpZDsKICAgICAgICAgICAgICB2YXIgbm93Y29sb3IgPSB0aGlzLmNvbG9ybWFwLmdldChub3dpZC50b1N0cmluZygpKTsKICAgICAgICAgICAgICB2YXIgbm93dGV4dCA9IHRoaXMubm93dHJlZVtpXS5sYWJlbDsKICAgICAgICAgICAgICB2YXIgbmV3WSA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbm93ZGF0YXMubGVuZ3RoOyArK2opIHsKICAgICAgICAgICAgICAgIHZhciBteWRhdGFzID0gbm93ZGF0YXNbal0udHJlbmRWYWx1ZVswXTsKICAgICAgICAgICAgICAgIHZhciBub3duYW1lID0gYmFjay5nZXQobm93aWQudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICB2YXIgbm93bnVtID0gbXlkYXRhc1tub3duYW1lXTsKICAgICAgICAgICAgICAgIG5ld1kucHVzaChub3dudW0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGRhdGFZLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogbm93dGV4dCwKICAgICAgICAgICAgICAgIGRhdGE6IG5ld1ksCiAgICAgICAgICAgICAgICBjb2xvcjogbm93Y29sb3IKCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgbXlpbmZvcyA9IHtuYW1lOiBub3dkYXRhc1swXS50cmVuZFRpbWV9OwoKICAgICAgICAgICAgbGV0IG5ld1kxID0gW3tuYW1lOiB0aGlzLmVxdU5hbWUsIGRhdGE6IG5vd2RhdGFzLm1hcChpdGVtID0+IGl0ZW0ucmV2KX1dOwogICAgICAgICAgICBpZihkYXRhWC5sZW5ndGgpIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLnRyZW5kZ19hbm90aGVyLnNldGNoYXJ0KGZsYWdYLCAnW3IvbWluXScsIGRhdGFYLCBuZXdZMSwgYCR7dGhpcy5lcXVOYW1lfSDljoblj7LovazpgJ9gKTsKCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy50cmVuZGcuc2V0Y2hhcnQoZmxhZ1gsIGZsYWdZLCBkYXRhWCwgZGF0YVksIHRpdGxlKQogICAgICAgICAgICAgIHRoaXMuZHJhd1dhdmVTcGVjdHJ1bShteWluZm9zKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmNsZWFyY2hhcnQoKTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmNsZWFyY2hhcnQoKTsKICAgICAgICAgICAgLy8gdGhhdC4kZW1pdCgnZGF0YWZhaWwnKQogICAgICAgICAgICAvLyB0aGF0LiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pCgoKCiAgICB9LAogICAgb3BlbmFsYXJtKCkgewogICAgICB0aGlzLiRjb25maXJtKCfor7fpgInmi6nmtYvngrknLCAn5o+Q56S6JywgewogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuY2xlYXJjaGFydCgpOwogICAgICAgIC8vIHRoYXQuJGVtaXQoJ2RhdGFmYWlsJyk7CiAgICAgIH0pOwogICAgfSwKCiAgICBjbGVhcmNoYXJ0KCkgewogICAgICB2YXIgQ2FuY2VsVG9rZW4gPSB0aGlzLiRheGlvcy5DYW5jZWxUb2tlbjsKCiAgICAgIGlmICh0eXBlb2YgdGhpcy5jYW5jZWwgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMuY2FuY2VsKCkKICAgICAgfQogICAgICB0aGlzLiRyZWZzLnRyZW5kZ19hbm90aGVyLmNsZWFyYWxsKCk7CiAgICAgIHRoaXMuJHJlZnMudHJlbmRnLmNsZWFyYWxsKCk7CiAgICAgIHRoaXMuJHJlZnMud2F2ZWcuY2xlYXJhbGwoKTsKICAgICAgdGhpcy4kcmVmcy5zcGVjdHJ1bWcuY2xlYXJhbGwoKTsKICAgIH0sCgogIH0KfQo="},{"version":3,"sources":["ChartPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ChartPage.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div class=\"trend-analysis\">\n    <div class='tupu' id='lefttupu'>\n      <div :style=\"{height : highexe(1) , width:'100%'}\" v-show=\"fullId===1||fullId===0\" @dblclick=\"handledblclick(1)\">\n        <TrendGraph ref='trendg' @cancelFull=\"handledblclick(1)\" @chartinfo=\"drawWaveSpectrum\" class=\"graph\" @refine=\"refine\" @cancelRefine=\"cancelRefine\"></TrendGraph>\n      </div>\n      <div :style=\"{height : highexe(2) , width:'100%'}\" v-show=\"fullId===2||fullId===0\" @dblclick=\"handledblclick(2)\">\n        <SpeedTrendGraph ref='trendg_another' @cancelFull=\"handledblclick(2)\" class=\"graph\" @refine=\"refine\" @cancelRefine=\"cancelRefine\"></SpeedTrendGraph>\n      </div>\n      <div :style=\"{height :highexe(3) , width:'100%'}\" v-show=\"fullId===3||fullId===0\" @dblclick=\"handledblclick(3)\">\n        <WaveGraph ref='waveg' @cancelFull=\"handledblclick(3)\" class=\"graph\"></WaveGraph>\n      </div>\n      <div :style=\"{height : highexe(4) , width:'100%'}\" v-show=\"fullId===4||fullId===0\" @dblclick=\"handledblclick(4)\">\n        <SpectrumGraph ref=\"spectrumg\" @cancelFull=\"handledblclick(4)\"  ></SpectrumGraph>\n      </div>\n    </div>\n    <div class=\"op-hide\">\n      <div class=\"box-head\"></div>\n      <i class=\"el-icon-caret-right op-button\" v-if=\"showOpPage\" v-on:click=\"showOrHide\"></i>\n      <i class=\"el-icon-caret-left op-button\" v-else v-on:click=\"showOrHide\"></i>\n      <div class=\"box-bottom\"></div>\n    </div>\n    <div class='op' id='rightop' v-show=\"showOpPage\">\n      <trend-analysis-op-page\n        @cleanChart=\"clearchart\"\n        @realdantongdao=\"getrealdantongdao\"\n        @addrealdantongdao=\"addrealdantongdao\"\n        @drawhistorydantongdao=\"drawhistorydantongdao\"\n        @drawrealduotongdao=\"drawrealduotongdao\"\n        @addrealduotongdao=\"addrealduotongdao\"\n        @drawhistoryduotongdao=\"drawhistoryduotongdao\"\n        @showgraph=\"showgraph\"\n        @notshowgraph=\"notshowgraph\"\n        :style=\"{height: '100%'}\"></trend-analysis-op-page>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TrendGraph from \"../components/TrendGraph\";\nimport WaveGraph from \"../components/WaveGraph\";\nimport SpectrumGraph from \"../components/SpectrumGraph\";\nimport SpeedTrendGraph from \"../components/SpeedTrendGraph\";\nimport TrendAnalysisOpPage from \"../components/TrendAnalysisOpPage\";\n\nexport default {\n  name: \"TrendAnalysis\",\n  components: {\n    TrendAnalysisOpPage,\n    SpeedTrendGraph,\n    SpectrumGraph,\n    WaveGraph,\n    TrendGraph,\n  },\r\n  \n  data() {\n    return {\n      labelname: null,\n      stime: null,\n      etime: null,\n      fullId: 0,\n      isFull: false,\n      showOpPage: true,\n      show: false,\n      graphheight: 33.3 + '%',\n      fallgraphheight: '0%',\n      unitname: '机泵专用图谱-趋势分析',\n      onlyname: '',\n      onlyone: 0,\n      nowtree: null,\n      chartdata: null,\n      myinterval: null,\n      nowpointid: null,\n      tongdao: null,\n      graphtype: null,\n      intervalflag: 0,\n      backmap: null,\n      textmap: null,\n      colormap: null,\n      nowdata: null,\n      nowtype:null\n    }\n  },\n  created() {\n    var mymap = new Map();\n    mymap.set('0', \"#FFE4C4\");\n    mymap.set('1', \"#00FFFF\");\n    mymap.set('2', \"#4B0082\");\n    mymap.set('3', \"#F0E68C\");\n    mymap.set('4', \"#778899\");\n    mymap.set('5', \"#7B68EE\");\n    mymap.set('6', \"#FF0000\");\n    mymap.set('7', \"#FFFAFA\");\n    mymap.set('8', \"#008080\");\n    mymap.set('9', \"#FA8072\");\n    mymap.set('10', \"#D3D3D3\");\n    mymap.set('11', \"#FFFFE0\");\n    this.colormap = mymap;\n    mymap = new Map();\n    mymap.set('0', \"通频\");\n    mymap.set('1', \"1倍频幅值\");\n    mymap.set('2', \"2倍频幅值\");\n    mymap.set('3', \"3倍频幅值\");\n    mymap.set('4', \"1/2倍频幅值\");\n    mymap.set('5', \"残振\");\n    mymap.set('6', \"直流量\");\n    mymap.set('7', \"间隙电压\");\n    mymap.set('8', \"1倍频相位\");\n    mymap.set('9', \"2倍频相位\");\n    mymap.set('10', \"3倍频相位\");\n    mymap.set('11', \"1/2倍频相位\");\n    this.textmap = mymap;\n    mymap = new Map();\n    mymap.set(\"0\", 'all');\n    mymap.set(\"1\", 'one');\n    mymap.set(\"2\", 'two');\n    mymap.set(\"3\", 'three');\n    mymap.set(\"4\", 'half');\n    mymap.set(\"5\", 'res');\n    mymap.set(\"6\", 'dc');\n    mymap.set(\"7\", 'gap');\n    mymap.set(\"8\", 'phaseOne');\n    mymap.set(\"9\", 'phaseTwo');\n    mymap.set(\"10\", 'phaseThree');\n    mymap.set(\"11\", 'phaseHalf');\n    this.backmap = mymap;\n\n  },\n\n  mounted() {\n    this.$emit('changename', this.unitname);\n  },\n  computed: {\n    nodeData() {\n      return this.$store.state.nodeData;\n    },\n    equid() {\n      return this.$store.state.equid;\n    },\n    nodeNum() {\n      return this.$store.state.nodeNum;\n    },\n    equName() {\n      return this.$store.state.equName;\n    },\n    features() {\n      return this.$store.state.features;\n    }\n  },\n\n  watch: {\n    equid(){\n      this.clearchart();\n    }\n  },\n  methods: {\n    handledblclick(id){\n      if(this.isFull){\n        this.isFull = false\n        this.fullId = 0\n        this.$refs.trendg.setIsFull(false);\n        this.$refs.trendg_another.setIsFull(false);\n        this.$refs.waveg.setIsFull(false);\n        this.$refs.spectrumg.setIsFull(false);\n      }else {\n        this.isFull = true\n        this.fullId = id\n        this.$refs.trendg.setIsFull(true);\n        this.$refs.trendg_another.setIsFull(true);\n        this.$refs.waveg.setIsFull(true);\n        this.$refs.spectrumg.setIsFull(true);\n      }\n      console.log(id)\n\n    },\n    highexe(id){\n      if(this.isFull){\n        if(id === this.fullId){\n          return \"100%\"\n        }else {\n          return  \"0%\"\n        }\n      }else {\n        return \"25%\"\n      }\n    },\n\n    showOrHide() {\n      if (this.showOpPage == true) {\n        this.showOpPage = false;\n        this.$emit(\"showOpPage\", false);\n        // this.$refs.trendg.resize();\n      } else {\n        this.showOpPage = true;\n        this.$emit(\"showOpPage\", true);\n        // this.$refs.trendg.resize();\n      }\n    },\n    showgraph() {\n      this.show = true;\n      this.graphheight = '20%';\n      this.fallgraphheight = '40%';\n      this.$nextTick(() => {\n        this.$refs.trendg.mychart.resize();\n        this.$refs.waveg.mychart.resize();\n        this.$refs.spectrumg.mychart.resize();\n      })\n\n    },\n    notshowgraph() {\n      this.show = false;\n      this.graphheight = 100 / 3 + '%';\n      this.fallgraphheight = '0%';\n      this.$nextTick(() => {\n        this.$refs.trendg.mychart.resize();\n        this.$refs.waveg.mychart.resize();\n        this.$refs.spectrumg.mychart.resize();\n      })\n    },\n\n    infoname(myname) {\n      this.$emit('setinfoname', myname);\n    },\n    dataloading() {\n    },\n\n    stopnowinterval() {\n      if (this.myinterval) {\n        clearInterval(this.myinterval);\n      }\n    },\n    refine(stime, etime) {\n      // this.dataloading();\n\n      if (this.tongdao == 1) {\n        this.gethisdantongdaoData(this.nowpointid, this.pointIdString, stime, etime, this.labelname)\n        console.log(this.nowpointid, this.pointIdString, stime, etime, this.pointuuid, this.nowtree,this.nowtype)\n      } else {\n        this.gethisduotongdaoData(this.nowpointid, this.pointIdString, stime, etime, this.nowtree, this.feature,this.nowtype);\n\n      }\n    },\n\n    cancelRefine() {\n      if (this.tongdao == 1) {\n        this.gethisdantongdaoData(this.nowpointid, this.pointIdString, this.stime, this.etime, this.labelname)\n        console.log(this.nowpointid, this.pointIdString, stime, etime, this.pointuuid, this.nowtree,this.nowtype)\n      } else {\n        this.gethisduotongdaoData(this.nowpointid, this.pointIdString, this.stime, this.etime, this.nowtree, this.feature,this.nowtype);\n\n      }\n    },\n\n    drawhistoryduotongdao(equipmentUuid, pointIdString, stime, etime, mytree, feature,type) {\n      this.tongdao = 0;\n      this.graphtype = '历史';\n      this.nowtree = mytree;\n      this.nowpointid = equipmentUuid;\n      this.pointIdString = pointIdString;\n      this.feature = feature;\n      this.nowtype=type;\n      this.stime = stime;\n      this.etime = etime;\n      this.gethisduotongdaoData(equipmentUuid, pointIdString, stime, etime, mytree, feature,type);\n    },\n    gethisduotongdaoData(equipmentUuid, pointIdString, stime, etime, mytree, feature,type) {\n      // console.log(mytree, feature,type)\n      // console.log(\"*******************88\")\n      var textname = this.textmap.get(feature.toString());\n      this.onlyname = textname;\n      var textstring = this.backmap.get(feature.toString());\n      this.onlyone = textstring;\n      var equipmentUuid1 = encodeURIComponent(equipmentUuid);\n      var pointIdString1 = encodeURIComponent(pointIdString);\n      var netinfor = ( '/trend/' + equipmentUuid1 + '/' + pointIdString1 + '/' + stime + '/' + etime + \"/info\");\n      this.$axios.get(netinfor/*, {\n        cancelToken: new CancelToken((c) => {\n          // executor 函数接收一个 cancel 函数作为参数\n          this.cancel = c;\n        })\n      }*/).then(res => {\n        if (res.data.code === 200) {\n          // console.log(res);\n          // console.log(\"44\")\n          this.chartdata = res.data.data;\n          var title = this.chartdata.equipmentName + ' 历史';\n          var trendinfo = this.chartdata.trendInfo;\n          var flagX = '[时间]';\n          var flagY = '[]';\n          flagY='[' + this.features[type][this.feature].unit + ']';\n        /*  if(trendinfo.length > 0) {\n            var flagY = '[' + res.data.data.trendInfo[0].unit + ']' || '[um]';\n          } else {\n            var flagY = '[um]';\n          }*/\n          var dataX = [];\n          var dataY = [];\n          var valueY = [];\n          for (var i = 1; i < this.nowtree.length; ++i) {\n            valueY.push([]);\n          }\n          //  that.timestampToTime(this.chartdata.trendTime);\n          for (var i = 0; i < trendinfo.length; ++i) {\n            dataX.push(this.timestampToTime(trendinfo[i].trendTime));\n            for (var j = 1; j < this.nowtree.length; ++j) {\n              valueY[j - 1].push(trendinfo[i].trendValue[j - 1][this.onlyone])\n            }\n          }\n\n\n          for (var i = 1; i < this.nowtree.length; ++i) {\n            dataY.push({\n              name: this.nowtree[i].label,\n              data: valueY[i - 1],\n              color: this.colormap.get(i.toString())\n            })\n\n\n          }\n\n          let newY = [{name: this.equName, data: trendinfo.map(item => item.rev)}];\n          if(dataX.length) {\n            this.$refs.trendg.setchart(flagX, flagY, dataX, dataY, title);\n            this.$refs.trendg_another.setchart(flagX, '[r/min]', dataX, newY, `${this.equName} 历史转速`);\n            var myinfo = {\n              name: dataX[0],\n              seriesName: this.nowtree[1].label,\n              //  seriesID:this.nowtree[1].id\n\n            };\n            this.drawWaveSpectrum(myinfo)\n          }\n\n        } else {\n          this.clearchart();\n          this.$emit('datafail')\n          //this.$message.error(res.data.message);\n        }\n      })\n\n\n    },\n\n\n\n    addrealduotongdao(equid, pointids) {\n\n\n      if (typeof this.cancel == 'function') {\n        this.cancel()\n      }\n      let equid1 = encodeURIComponent(equid);\n      let pointids1 = encodeURIComponent(pointids);\n      this.$axios.get((\"/trend/\" + equid1 + \"/\" + pointids1 + \"/real_time\")).then(res => {\n        if (res.data.code === 200) {\n\n          let that = this;\n          this.chartdata = res.data.data;\n          var title = this.chartdata.equipmentName + ' 实时';\n\n          var newX = that.timestampToTime(this.chartdata.trendTime);\n          var dataY = [];\n          var newY_rev = [];\n          for (var i = 1; i < this.nowtree.length; ++i) {\n            var newY = this.chartdata.trendValue[i - 1][this.onlyone];\n            dataY.push(newY);\n          }\n          var nownum_rev = this.chartdata.rev;\n          newY_rev.push(nownum_rev);\n\n          var wavedata = this.chartdata.waveValue || {\n            waveUnit: {}\n          };\n          var wavex = '[' + wavedata.waveUnit.x + ']' || '';\n          var wavey = '[' + wavedata.waveUnit.y + ']' || '';\n          var wavedataX = wavedata.waveX || [];\n          var wavedataY = {\n            name: this.nowtree[1].label,\n            data: wavedata.waveY || []\n          };\n\n          var spectrumdata = this.chartdata.spectrumValue || {\n            spectrumUnit: {}\n          };\n          var spectrumx = '[' + spectrumdata.spectrumUnit.x + ']' || '';\n          var spectrumy = '[' + spectrumdata.spectrumUnit.y + ']' || '';\n          var spectrumdataX = spectrumdata.spectrumX || [];\n          var spectrumdataY = {\n            name: this.nowtree[1].label,\n            data: spectrumdata.spectrumY || []\n          };\n\n\n          this.$refs.trendg.changechart(newX, dataY);\n\n          this.$refs.trendg_another.changechart(newX, newY_rev);\n          this.$refs.waveg.setchart(wavex, wavey, wavedataX, wavedataY, title, newX);\n          this.$refs.spectrumg.setchart(spectrumx, spectrumy, spectrumdataX, spectrumdataY, title, newX);\n\n        } else {\n          this.clearchart();\n          this.$emit('datafail')\n          //this.$message.error(res.data.message);\n        }\n      })\n\n    },\n    drawrealduotongdao(equid, pointids, mytree, feautre,type) {\n      console.log(\"2@@@@@@@@@@@@@@@@@@@@\",type,feautre);\n      // console.log(this.features[type][feautre].unit)\n      this.tongdao = 0;\n      this.graphtype = '实时'\n      this.nowtree = mytree;\n      var textname = this.textmap.get(feautre.toString());\n      this.onlyname = textname;\n      var textstring = this.backmap.get(feautre.toString());\n      this.onlyone = textstring;\n\n      if (typeof this.cancel == 'function') {\n        this.cancel()\n      }\n      var equid1 = encodeURIComponent(equid);\n      var pointids1 = encodeURIComponent(pointids);\n\n      this.$axios.get(\"/trend/\" + equid1 + \"/\" + pointids1 + \"/real_time\"/*, {\n        cancelToken: new CancelToken((c) => {\n          // executor 函数接收一个 cancel 函数作为参数\n          this.cancel = c;\n        })\n      }*/).then(res => {\n        // console.log('go3', res)\n        if (res.data.code === 200) {\n          // console.log('go2')\n          let that = this;\n          this.chartdata = res.data.data;\n          var title = this.chartdata.equipmentName + ' 实时';\n          var title_rev = this.equName + ' 实时转速';\n          var newX = that.timestampToTime(this.chartdata.trendTime);\n\n          var flagX = '[时间]';\n          var flagY = '';\n          flagY='[' + that.features[type][feautre].unit + ']';\n          // if (this.nowtree[0].label.indexOf('加速度') != -1) {\n          //   flagY = '[m/s2]';\n          // } else if (this.nowtree[0].label.indexOf('速度') != -1) {\n          //   flagY = '[mm/s]';\n          // }\n          var flagY_rev = '[r/min]';\n          var dataX = [];\n          var dataY = [];\n          var dataY_rev = [];\n          dataX.push(newX);\n          for (var i = 1; i < mytree.length; ++i) {\n            var newY = this.chartdata.trendValue[i - 1][textstring];\n            console.log(mytree[i]);\n            dataY.push({\n              name: mytree[i].label,\n              data: [newY],\n              color: this.colormap.get(i.toString())\n            });\n          }\n          var nownum_rev = this.chartdata.rev;\n          dataY_rev.push({\n            name: this.equName,\n            data: [nownum_rev],\n          });\n\n          var wavedata = this.chartdata.waveValue || {\n            waveUnit:{}\n          };\n          var wavex = '[' + wavedata.waveUnit.x + ']' || '';\n          var wavey = '[' + wavedata.waveUnit.y + ']' || '';\n          var wavedataX = wavedata.waveX || [];\n          var wavedataY = {\n            name: mytree[1].label,\n            data: wavedata.waveY || []\n          };\n\n          var spectrumdata = this.chartdata.spectrumValue || {\n            spectrumUnit:{}\n          };\n          var spectrumx = '[' + spectrumdata.spectrumUnit.x + ']' || '';\n          var spectrumy = '[' + spectrumdata.spectrumUnit.y + ']' || '';\n          var spectrumdataX = spectrumdata.spectrumX || [];\n          var spectrumdataY = {\n            name: mytree[1].label,\n            data: spectrumdata.spectrumY || []\n          };\n          // console.log('it goes')\n\n          this.$refs.trendg.setchart(flagX, flagY, dataX, dataY, title);\n          var dataXX = [];\n          for(var i = 0; i < dataX.length; ++i) {\n            dataXX.push(dataX[i])\n          }\n\n          this.$refs.trendg_another.setchart(flagX, flagY_rev, dataXX, dataY_rev, title_rev);\n          this.$refs.waveg.setchart(wavex, wavey, wavedataX, wavedataY, title, newX);\n          this.$refs.spectrumg.setchart(spectrumx, spectrumy, spectrumdataX, spectrumdataY, title, newX)\n        } else {\n          // this.$emit('datafail')\n          //this.$message.error(res.data.message);\n        }\n      })\n    },\n\n    drawhistorydantongdao(equipmentUuid, pointIdString, stime, etime, pointuuid, mytree,labelname) {   //单通道\n      this.tongdao = 1;\n      this.graphtype = '历史';\n      this.nowtree = mytree;\n      this.nowpointid = equipmentUuid;\n      this.pointIdString = pointIdString;\n      this.pointuuid = pointuuid;\n      this.stime = stime;\n      this.etime = etime;\n      this.labelname = labelname;\n      // this.nowtype = type\n      // console.log(\"%%%%%%%%%%%\",this.nowtype)\n      this.gethisdantongdaoData(equipmentUuid, pointIdString, stime, etime,labelname);\n    },\n\n    cancelRequest() {\n      if (typeof this.source === 'function') {\n        this.source('终止请求')\n      }\n    },\n\n    drawWaveSpectrum(myinfo) {\n      console.log(myinfo)\n      if (this.graphtype === '历史') {\n        // console.log(11111111111111111)\n        // console.log(myinfo)\n        var equipmentUuid = this.nowpointid;\n        var thistime = myinfo.name;\n        var nowtime = new Date(thistime).getTime();\n        var pointIdString;\n        this.dataloading();\n        var pointNmae;\n        if (this.tongdao.toString() === '1') {\n          pointIdString = this.nowtree[0].xid;\n          pointNmae = this.nowtree[0].label\n        } else {\n          pointIdString = '';\n          console.log('nowtree')\n          console.log(this.nowtree)\n          for(var i = 0; i < this.nowtree.length; ++i) {\n            if(this.nowtree[i].label == myinfo.seriesName) {\n              pointIdString = this.nowtree[i].id\n            }\n          }\n\n          pointNmae = myinfo.seriesName;\n        }\n\n        var waveNumber = 16384;\n        var analysisLines = 0;\n\n        var equipmentUuid1 = encodeURIComponent(equipmentUuid);\n        var pointIdString1 = encodeURIComponent(pointIdString);\n\n        this.$axios.get(\"/wave-spectrum/\" + equipmentUuid1 + '/' + pointIdString1 + '/' + nowtime + '/' + waveNumber + '/' + analysisLines + \"/info\").then(res => {\n\n          if (res.data.code === 200) {\n            // this.$emit('datasuccess');\n            var name = this.nowtree[0].label\n            var wavex = '[' + res.data.data.waveValue.waveUnit.x + ']';\n            var wavey = '[' + res.data.data.waveValue.waveUnit.y + ']';\n            var dataX = res.data.data.waveValue.waveX;\n\n            var dataY = {\n              name: pointNmae,\n              data: res.data.data.waveValue.waveY\n            };\n            var title = res.data.data.equipmentName + ' '  + ' 历史';\n\n            //thistime =timestampToTime(thistime);\n\n\n            thistime = this.timestampToTime(nowtime);\n\n            this.$refs.waveg.setchart(wavex, wavey, dataX, dataY, title, thistime);\n\n            var spectrumx = '[' + res.data.data.spectrumValue.spectrumUnit.x + ']';\n            var spectrumy = '[' + res.data.data.spectrumValue.spectrumUnit.y + ']';\n            dataX = res.data.data.spectrumValue.spectrumX;\n            var dataY = {\n              name: pointNmae,\n              data: res.data.data.spectrumValue.spectrumY\n            };\n            this.$refs.spectrumg.setchart(spectrumx, spectrumy, dataX, dataY, title, thistime);\n\n\n          } else {\n            // this.clearchart();\n            // this.$emit('datafail')\n            this.$refs.waveg.clearall();\n            this.$refs.spectrumg.clearall();\n            //this.$message.error(res.data.message);\n          }\n        }).catch(e=>{\n          // this.$emit('datafail')\n          this.$refs.waveg.clearall();\n          this.$refs.spectrumg.clearall();\n        })\n\n      }\n\n    },\n\n    timestampToTime(timestamp) {\n      var date = new Date(timestamp);//时间戳为10位需*1000，时间戳为13位的话不需乘1000\n      var Y = date.getFullYear() + '-';\n      var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n      var D = (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) + ' ';\n      var h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\n      var m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\n      var s = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds()) + '.';\n      var ms = (timestamp % 1000).toString();\n      while (ms.length < 3) {\n        ms = '0' + ms;\n      }\n      //var nowtime = new Date(Y+M+D+h+m+s);\n      return Y + M + D + h + m + s + ms;\n    },\n\n\n    getrealdantongdao(equipmentUuid, pointIdString, pointuuid, mytree,type) {\n      // console.log(mytree,type)\n      let that = this;\n      //帮助后面添加数据\n      that.nowtree = mytree;\n      that.nowpointid = pointuuid;\n      that.tongdao = 1;\n      that.graphtype = '实时';\n      if (typeof this.cancel == 'function') {\n        this.cancel()\n      }\n      var equipmentUuid1 = encodeURIComponent(equipmentUuid);\n      var pointIdString1 = encodeURIComponent(pointIdString);\n      console.log(\"/trend/\" + equipmentUuid + '/' + pointIdString + \"/real_time\")\n      that.$axios.get((\"/trend/\" + equipmentUuid1 + '/' + pointIdString1 + \"/real_time\")/*, {\n        cancelToken: new CancelToken((c) => {\n          // executor 函数接收一个 cancel 函数作为参数\n          this.cancel = c;\n        })\n      }*/)\n        .then(res => {\n          if (res.data.code === 200) {\n            // this.$emit('datasuccess');\n            this.chartdata = res.data.data;\n            // console.log(\"打印一下这个里的nowtreeeeeeeeeeeeeee\");\n            // console.log(this.nowtree[0]);\n            var pointname = this.chartdata.equipmentName + ' ' + this.nowtree[0].label;\n            var title = this.chartdata.equipmentName +' '+  this.nowtree[0].label+ ' 实时';\n            var title_rev = this.equName + ' 实时转速';\n            // 初始化趋势图数据\n            var flagX = '[时间]';\n            console.log(this.nowtree)\n            var flagY = '[]';\n            flagY='[' + that.features[type][mytree[1].xid].unit + ']';\n           /* if (this.nowtree[0].type.indexOf('加速度') != -1) {\n              flagY = '[m/s2]';\n            } else if (this.nowtree[0].type.indexOf('速度') != -1) {\n              flagY = '[mm/s]';\n            }*/\n            var flagY_rev = '[r/min]';\n            var dataX = [];\n            var dataY = [];\n            var dataY_rev = [];\n            var back = this.backmap;\n            this.nowtree = mytree;\n            var newX = that.timestampToTime(this.chartdata.trendTime);\n            dataX.push(newX);\n            // console.log(this.nowtree)\n            for (var i = 1; i < this.nowtree.length; ++i) {\n              var nowid = this.nowtree[i].xid;\n              var nowcolor = this.colormap.get(nowid.toString());\n              var nowtext = this.nowtree[i].label;\n              var nowname = this.backmap.get(nowid.toString());\n              var nownum = this.chartdata.trendValue[0][nowname];\n              dataY.push({\n                name: nowtext,\n                data: [nownum],\n                color: nowcolor\n              });\n\n            }\n            var nownum_rev = this.chartdata.rev;\n            dataY_rev.push({\n              name: this.equName,\n              data: [nownum_rev],\n            });\n\n            //初始化波形图数据\n            var wavedata = this.chartdata.waveValue || {\n              waveUnit: {}\n            };\n            var wavex = '[' + wavedata.waveUnit.x + ']' || '';\n            var wavey = '[' + wavedata.waveUnit.y + ']' || '';;\n            var wavedataX = wavedata.waveX || [];\n            var wavedataY = {\n              name: this.nowtree[0].label,\n              data: wavedata.waveY || []\n            };\n\n            //初始化频谱图数据\n            var spectrumdata = this.chartdata.spectrumValue|| {\n              spectrumUnit: {}\n            };\n            var spectrumx = '[' + spectrumdata.spectrumUnit.x + ']' || '';\n            var spectrumy = '[' + spectrumdata.spectrumUnit.y + ']' || '';\n            var spectrumdataX = spectrumdata.spectrumX|| [];\n            var spectrumdataY = {\n              name: this.nowtree[0].label,\n              data: spectrumdata.spectrumY|| []\n            };\n\n            //画图\n            this.$refs.trendg.setchart(flagX, flagY, dataX, dataY, title);\n            var dataXX = []\n            for(var i = 0; i < dataX.length; ++i) {\n              dataXX.push(dataX[i])\n            }\n            // console.log('here is gone')\n\n              this.$refs.trendg_another.setchart(flagX, flagY_rev, dataXX, dataY_rev, title_rev);\n              this.$refs.waveg.setchart(wavex, wavey, wavedataX, wavedataY, title, newX);\n              this.$refs.spectrumg.setchart(spectrumx, spectrumy, spectrumdataX, spectrumdataY, title, newX);\n\n\n          } else {\n            this.clearchart();\n            // this.$emit('datafail')\n            // that.$message.error(res.data.message);\n          }\n        })\n    },\n    addrealdantongdao() {\n      let that = this;\n      var equipmentUuid = this.$store.state.equid;\n      var pointIdString = this.nowtree[0].xid;\n\n      if (typeof this.cancel == 'function') {\n        this.cancel()\n      }\n      var equipmentUuid1 = encodeURIComponent(equipmentUuid);\n      var pointIdString1 = encodeURIComponent(pointIdString);\n      this.$axios.get(\"/trend/\" + equipmentUuid1 + '/' + pointIdString1 + \"/real_time\")\n        .then(res => {\n          if (res.data.code === 200) {\n            this.chartdata = res.data.data;\n            var pointname = this.chartdata.equipmentName + ' ' + this.nowtree[0].label;\n            var title = this.chartdata.equipmentName + ' ' + this.nowtree[0].label + ' 实时';\n            var title_rev = this.chartdata.equipmentName + this.nowtree[0].label + ' 实时转速-';\n            var newX = that.timestampToTime(this.chartdata.trendTime);\n            var newY = [];\n            var dataY_rev = [];\n            for (var i = 1; i < this.nowtree.length; ++i) {\n              var nowid = this.nowtree[i].xid;\n              var nowname = this.backmap.get(nowid.toString());\n              var nownum = this.chartdata.trendValue[0][nowname];\n              newY.push(nownum);\n            }\n            var nownum_rev = this.chartdata.rev;\n            dataY_rev.push(nownum_rev);\n\n            var wavedata = this.chartdata.waveValue || {\n              waveUnit: {}\n            };\n            var wavex = '[' + wavedata.waveUnit.x + ']' || '';\n            var wavey = '[' + wavedata.waveUnit.y + ']' || '';\n            var wavedataX = wavedata.waveX || [];\n            var wavedataY = {\n              name: this.nowtree[0].label,\n              data: wavedata.waveY || []\n            };\n\n            var spectrumdata = this.chartdata.spectrumValue|| {\n              spectrumUnit: {}\n            };\n            var spectrumx = '[' + spectrumdata.spectrumUnit.x + ']' || '';\n            var spectrumy = '[' + spectrumdata.spectrumUnit.y + ']' || '';\n            var spectrumdataX = spectrumdata.spectrumX || [];\n            var spectrumdataY = {\n              name: this.nowtree[0].label,\n              data: spectrumdata.spectrumY || []\n            };\n\n\n            this.$refs.trendg.changechart(newX, newY);\n            this.$refs.trendg_another.changechart(newX, dataY_rev);\n            this.$refs.waveg.setchart(wavex, wavey, wavedataX, wavedataY, title, newX);\n            this.$refs.spectrumg.setchart(spectrumx, spectrumy, spectrumdataX, spectrumdataY, title, newX)\n          } else {\n            this.clearchart();\n            // this.$emit('datafail')\n            // that.$message.error(res.data.message);\n          }\n        })\n\n\n    },\n\n    gethisdantongdaoData(equipmentUuid, pointIdString, stime, etime, lablename) {\n      // this.nowtype=type;\n      console.log(this.nowtree )\n      console.log(\"####################\")\n\n      let that = this;\n\n      var equipmentUuid1 = encodeURIComponent(equipmentUuid);\n      var pointIdString1 = encodeURIComponent(pointIdString);\n      var netinfor = ('/trend/' + equipmentUuid1 + '/' + pointIdString1 + '/' + stime + '/' + etime + \"/info\");\n      if (typeof this.cancel == 'function') {\n        this.cancel()\n      }\n      this.$axios.get(netinfor/*, {\n        cancelToken: new CancelToken((c) => {\n          // executor 函数接收一个 cancel 函数作为参数\n          this.cancel = c;\n        })\n      }*/)\n\n        .then(res => {\n          if (res.data.code === 200) {\n            this.chartdata = res.data.data;\n            var flagX = '[时间]';\n            var flagY = '[]';\n            console.log(this.nowtree,\"这个树究竟是什么\")\n            if(this.nowtree[0].type == \"振动-位移\" ||this.nowtree[0].type == \"振动-加速度\" ){\n              this.nowtype=113\n            }else if(this.nowtree[0].type == \"振动-速度\"){\n              this.nowtype=114\n            }\n             flagY='[' + that.features[this.nowtype][this.nowtree[1].xid].unit + ']';\n           /* if (res.data.data.trendInfo.length > 0) {\n              var flagY = '[' + res.data.data.trendInfo[0].unit + ']' || '[um]';\n            } else {\n              var flagY = '[um]';\n            }*/\n            var dataX = [];\n            var dataY = [];\n            var back = this.backmap;\n            var title = this.chartdata.equipmentName + ' '+ this.nowtree[0].label + ' 历史';\n\n            var nowdatas = this.chartdata.trendInfo;\n\n            for (var i = 0; i < nowdatas.length; ++i) {\n              var newX = that.timestampToTime(nowdatas[i].trendTime);\n              dataX.push(newX);\n            }\n            console.log(this.nowtree,\"this.nowtree\")\n            for (var i = 1; i < this.nowtree.length; ++i) {\n              var nowid = this.nowtree[i].xid;\n              var nowcolor = this.colormap.get(nowid.toString());\n              var nowtext = this.nowtree[i].label;\n              var newY = [];\n              for (var j = 0; j < nowdatas.length; ++j) {\n                var mydatas = nowdatas[j].trendValue[0];\n                var nowname = back.get(nowid.toString());\n                var nownum = mydatas[nowname];\n                newY.push(nownum)\n              }\n              dataY.push({\n                name: nowtext,\n                data: newY,\n                color: nowcolor\n\n              })\n            }\n            var myinfos = {name: nowdatas[0].trendTime};\n\n            let newY1 = [{name: this.equName, data: nowdatas.map(item => item.rev)}];\n            if(dataX.length) {\n              this.$refs.trendg_another.setchart(flagX, '[r/min]', dataX, newY1, `${this.equName} 历史转速`);\n\n              this.$refs.trendg.setchart(flagX, flagY, dataX, dataY, title)\n              this.drawWaveSpectrum(myinfos);\n            }\n            else {\n              this.clearchart();\n            }\n\n\n          } else {\n            this.clearchart();\n            // that.$emit('datafail')\n            // that.$message.error(res.data.message);\n          }\n        })\n\n\n\n    },\n    openalarm() {\n      this.$confirm('请选择测点', '提示', {\n        cancelButtonText: '确定',\n        type: 'warning'\n      }).then(() => {\n      }).catch(() => {\n        this.clearchart();\n        // that.$emit('datafail');\n      });\n    },\n\n    clearchart() {\n      var CancelToken = this.$axios.CancelToken;\n\n      if (typeof this.cancel == 'function') {\n        this.cancel()\n      }\n      this.$refs.trendg_another.clearall();\n      this.$refs.trendg.clearall();\n      this.$refs.waveg.clearall();\n      this.$refs.spectrumg.clearall();\n    },\n\n  }\n}\n</script>\n\n<style >\n\n.trend-analysis {\n  background: #232835;\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  .tupu {\n    float: left;\n    padding-top: 10px;\n    margin-right: 10px;\n    width: calc(100% - 330px);\n    height: calc(100% - 20px);\n  }\n\n  .op-hide {\n    height: 100%;\n    width: 20px;\n    float: right;\n    background-color: #232835;\n    display: flex;\n\n    .box-head {\n      width: 0;\n      height: 0;\n      border-bottom: 20px solid yellow;\n    }\n\n    .op-button {\n      width: 20px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: #303749;\n      color: #359186;\n      top: 50%;\n      position: absolute;\n      cursor: pointer;\n    }\n\n    .box-bottom {\n\n    }\n  }\n\n  .op {\n    width: 290px;\n    height: calc(100% - 20px);\n    margin-top: 10px;\n    float: right;\n    background-color: #303749;\n    overflow: auto;\n  }\n\n  .graph {\n    height: 100%;\n    width: 100%;\n    //margin-bottom: 1px;\n  }\n}\n</style>\n"]}]}