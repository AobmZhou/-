{"remainingRequest":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asus\\Desktop\\product\\backup\\src\\components\\RtHisTimeSelect.vue?vue&type=style&index=0&id=3a6069b9&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\src\\components\\RtHisTimeSelect.vue","mtime":1625711072000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtc2VsZWN0LWRyb3Bkb3duIHsKICBoZWlnaHQ6IDIwcHg7Cn0KLmVsLXJvdyB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzMwMzc0OTsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDI1MHB4OwogIGNvbG9yOiB3aGl0ZTsKICBwYWRkaW5nLWxlZnQ6IDhweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4OwogIC8qYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgLjEyKSwgMCAwIDZweCByZ2JhKDAsIDAsIDAsIC4wNCk7Ki8KICAvKmJvcmRlcjogMC41cHggc29saWQgI2RjZGZlNjsqLwp9Cg=="},{"version":3,"sources":["RtHisTimeSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RtHisTimeSelect.vue","sourceRoot":"src/components","sourcesContent":["<!--\nRtHisTimeSelect组件使用说明：\n1. 将RtHisTimeSelect引入你的组件，并打上ref，比如：<rt-his-time-select ref=\"timeset\"></rt-his-time-select>\n2. 通过调用RtHisTimeSelect的timedata()函数来获取时间戳，比如可以定义一个按钮点击事件：\nonSubmit() {\n      console.log(this.$refs.timeset.timedata());\n}\n3. timedata()函数返回值为json对象，格式为：\n{\n    model: \"\",\n    trend: \"\",\n    form: {\n        starttime:\n        endtime:\n    }\n}\n这其中，model表示当前模式是实时还是历史，trend表示当前时间趋势模式\nform表示时间戳，starttime表示开始时间，endtime表示结束时间\n-->\n\n<template>\n  <div>\n    <el-row style=\" padding-top: 10px;font-size: 14px\">\n      模式选择:\n      <el-radio-group v-model=\"radio\">\n        <el-radio :label=\"1\" style=\"color: white\">实时</el-radio>\n        <el-radio :label=\"2\" style=\"color: white\">历史</el-radio>\n      </el-radio-group>\n    </el-row>\n    <div v-if=\"radio === 1\">\n\n    </div>\n    <div v-else  style=\"font-size: 14px\">\n      <el-row>\n        趋势类型:\n        <el-select v-model=\"form.trend\" size=\"mini\"  style=\"width: 60%\">\n          <el-option\n            v-for=\"item in options1\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-row>\n      <div v-if=\"form.trend === '前一阶段'\">\n        <el-row>\n          时间选择:\n          <el-select v-model=\"form.stage\" size=\"mini\" style=\"width: 60%\">\n            <el-option\n              v-for=\"item in options2\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-row>\n      </div>\n      <div v-else-if=\"form.trend === '起止时间'\">\n        <el-row>\n          开始时间:\n          <el-date-picker\n            v-model=\"form.time.start\"\n            type=\"datetime\"\n            placeholder=\"选择日期时间\"\n            size=\"mini\"\n            value-format=\"timestamp\"\n            style=\"width: 60%\">\n          </el-date-picker>\n        </el-row>\n        <el-row>\n          终止时间:\n          <el-date-picker\n            v-model=\"form.time.end\"\n            type=\"datetime\"\n            placeholder=\"选择日期时间\"\n            value-format=\"timestamp\"\n            size=\"mini\"\n            style=\"width: 60%\">\n          </el-date-picker>\n        </el-row>\n      </div>\n      <div v-else-if=\"form.trend === '起止月'\">\n        <el-row>\n          选择年月:\n          <el-date-picker\n            v-model=\"form.month\"\n            type=\"month\"\n            size=\"mini\"\n            style=\"width: 60%\"\n            format=\"yyyy 年 MM 月 dd 日 HH \"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n            placeholder=\"选择年月\">\n          </el-date-picker>\n        </el-row>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n    export default {\n        name: \"RtHisTimeSelect\",\n        data() {\n\n            return {\n                deletetime: 7*24*60*60*1000,\n                mytime:{\n                    starttime:null,\n                    endtime:null\n                },\n                radio: 1,\n                options1: [{\n                    value: '前一阶段',\n                    label: '前一阶段'\n                }, {\n                    value: '起止时间',\n                    label: '起止时间'\n                }, {\n                    value: '起止月',\n                    label: '起止月'\n                }],\n                options2: [{\n                    value: '前5分钟',\n                    label: '前5分钟'\n                }, {\n                    value: '前半小时',\n                    label: '前半小时'\n                }, {\n                    value: '前1小时',\n                    label: '前1小时'\n                }, {\n                    value: '前1天',\n                    label: '前1天'\n                }, {\n                    value: '前1周',\n                    label: '前1周'\n                }, {\n                    value: '前1月',\n                    label: '前1月'\n                }, {\n                    value: '前1季度',\n                    label: '前1季度'\n                }, {\n                    value: '前1年',\n                    label: '前1年'\n                }],\n\n                form: {\n                    trend: '前一阶段',\n                    time: {\n                        start: new Date().getTime() - 3600 * 1000 * 24 * 7,\n                        end: new Date().getTime(),\n                    },\n                    month: '',\n                    stage: '前1周',\n                }\n            }\n        },\n        computed:{\n            myselect(){\n                return this.form.stage;\n            },\n            myradio() {\n                return this.radio;\n            }\n        },\n        watch: {\n            myradio() {\n\n                this.$emit('radiostatus', this.radio)\n            },\n\n            myselect(){\n                //console.log(this.form.stage)\n                var mystatus = this.form.stage\n                if(mystatus == '前5分钟') {\n                    this.deletetime = 5 * 60 * 1000\n                }\n                else if(mystatus == '前半小时') {\n                    this.deletetime = 30 * 60 * 1000\n                }\n                else if(mystatus ==  '前1小时') {\n                    this.deletetime = 60 * 60 * 1000\n                }\n                else if(mystatus ==  '前1天') {\n                    this.deletetime = 24 * 60 * 60 * 1000\n                }\n                else if(mystatus ==  '前1周') {\n                    this.deletetime = 7 * 24 * 60 * 60 * 1000\n                }\n                else if(mystatus ==  '前1月') {\n                    this.deletetime = 30 * 24 * 60 * 60 * 1000\n                }\n                else if(mystatus ==  '前1季度') {\n                    this.deletetime = 90 * 24 * 60 * 60 * 1000\n                }\n                else if(mystatus ==  '前1年') {\n                    this.deletetime = 365 * 24 * 60 * 60 * 1000\n                }\n               // console.log(this.deletetime)\n            }\n        },\n        methods: {\n\n            handleCheckAllChange(val) {\n                this.checkedStatues = val ? statueOptions1 : [];\n                this.isIndeterminate = false;\n                console.log('here')\n            },\n            handleCheckedStatuesChange(value) {\n                let checkedCount = value.length;\n                this.checkAll = checkedCount === this.statues.length;\n                this.isIndeterminate = checkedCount > 0 && checkedCount < this.statues.length;\n                console.log('not here')\n\n            },\n            timedata() {\n                if (this.radio == 1) {\n                    return {model: '实时' , form: this.mytime}\n\n                }\n                else {\n                    var nowTrend = '';\n                    if(this.form.trend == '前一阶段') {\n                        nowTrend = '前一阶段';\n\n                        var thistime = new Date().getTime();\n                        this.mytime.starttime = thistime - this.deletetime;\n\n                        this.mytime.endtime = thistime\n                    }\n                    else if(this.form.trend == '起止月'){\n                          nowTrend = '起止月';\n                          var monthnum = 0;\n                          var yearnum = 0;\n                          for(var i = 0; i < 4; ++i) {\n                              yearnum *= 10\n                              yearnum += this.form.month[i] - '0'\n                          }\n\n                        var mydate=new Date(this.form.month.replace(/-/g, '/'));\n                        var nowtime = new Date(mydate).getTime();\n\n                        this.mytime.starttime = nowtime;\n                        monthnum = (this.form.month[5] - '0') * 10 +  (this.form.month[6] - '0')\n                        if(monthnum == 12) {\n                            yearnum += 1\n                            monthnum = 1\n                        }\n                        else {\n                            monthnum += 1\n                        }\n                        if(monthnum < 10) {\n                            monthnum = '0' + monthnum.toString()\n                        }\n                        else {\n                            monthnum = monthnum.toString()\n                        }\n\n                        yearnum = yearnum.toString()\n                        mydate = yearnum + '-' + monthnum + '-01 00:00:00'\n                        //console.log(mydate)\n                        mydate=new Date(mydate.replace(/-/g, '/'));\n                        nowtime = new Date(mydate).getTime() - 1;\n\n                        this.mytime.endtime = nowtime;\n                    }\n                    else {\n                        nowTrend = '起止时间';\n                        this.mytime.starttime = this.form.time.start;\n                        this.mytime.endtime = this.form.time.end;\n                    }\n                    console.log(this.mytime);\n                    if(this.mytime.starttime <=  this.mytime.endtime) {\n                        return {model: '历史' , trend: nowTrend, form: this.mytime}\n                    } else {\n                        this.$alert('请确保开始时间早于终止时间', '时间选择错误', {\n                          confirmButtonText: '确定',\n                          callback: action => {\n\n                          }\n                        });\n                    }\n                }\n            },\n            // onSubmit() {\n            //     // console.log(this.form.trend);\n            //     // console.log(this.form.time);\n            //     if (this.radio === 1) {\n            //         event.$emit(\"receiveData\", {model: '实时' , form: this.form});\n            //     }\n            //     else {\n            //         event.$emit(\"receiveData\", {model: '历史' , form: this.form});\n            //     }\n            //     // console.log(this.form);\n            // },\n        },\n        mounted() {\n            // console.log(this.form);\n        }\n    }\n</script>\n\n<style scoped>\n  .el-select-dropdown {\n    height: 20px;\n  }\n  .el-row {\n    background-color: #303749;\n    height: 100%;\n    width: 250px;\n    color: white;\n    padding-left: 8px;\n    margin-bottom: 10px;\n    /*box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);*/\n    /*border: 0.5px solid #dcdfe6;*/\n  }\n</style>\n\n<style>\n  .el-time-panel {\n    width: 150px;\n  }\n</style>\n"]}]}