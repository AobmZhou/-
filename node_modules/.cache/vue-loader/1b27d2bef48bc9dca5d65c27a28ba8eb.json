{"remainingRequest":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asus\\Desktop\\product\\backup\\src\\page\\menu.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\src\\page\\menu.vue","mtime":1626743467885},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_sass-loader@8.0.2@sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\product\\backup\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5ib3ggewogIGRpc3BsYXk6IGZsZXg7CiAgaGVpZ2h0OiAxMDAlOwoKICAuZWwtaGVhZGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyYzMyNDI7CiAgICBjb2xvcjogI2ZmZjsKICAgIGxpbmUtaGVpZ2h0OiA2MHB4OwogICAgZm9udC1zaXplOiAyNHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAvKmJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIC4xMiksIDAgMCA2cHggcmdiYSgwLCAwLCAwLCAuMDQpKi8KICAgIC5hbm90aGVyX2l0ZW0gewogICAgICBmbG9hdDogcmlnaHQ7CiAgICB9CiAgfQoKICAuY29udGVudCB7CiAgICAvLyBoZWlnaHQ6IDEwMCU7CiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDgwcHgpOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMjgzNTsKICB9CgogIC5sZWZ0LWFzaWRlIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICAvKiBvdmVyZmxvdzogaGlkZGVuOyovCiAgICBtYXJnaW46IDEwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjMyODM1OyAvL+iuvuWkh+agkeiDjOaZr+iJsuWcqOi/memHjAogICAgLmxlZnQtY29udGVudCB7CiAgICAgIC8vIGhlaWdodDogMzAwcHg7CiAgICAgIGJhY2tncm91bmQ6ICMzMDM3NDk7CiAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgfQoKICAgIC5tZW51LWhpZGUgewogICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgIHdpZHRoOiAyMHB4OwogICAgICBmbG9hdDogbGVmdDsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMjgzNTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgIC5vcC1idXR0b24gewogICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMwMzc0OTsKICAgICAgICBjb2xvcjogIzM1OTE4NjsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB9CiAgICB9CiAgfQoKICAuZWwtbWVudS5lbC1tZW51LS1ob3Jpem9udGFsIHsKICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDBweCAjMzAzNzQ5OwogIH0KCiAgLmVsLWFzaWRlIHsKICAgIGNvbG9yOiAjMzMzOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbGluZS1oZWlnaHQ6IDIwNXB4OwogICAgYm9yZGVyOiAxcHggc29saWQgIzMwMzc0OTsKICB9CgogIC5lbC1tYWluIHsKICAgIHBhZGRpbmc6IDA7CiAgICAvKmJvcmRlcjogMXB4IHNvbGlkICMyRjQ1NTQ7Ki8KCiAgfQoKICAubWFpbiB7CiAgICBmbGV4OiAxOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZDogIzMwMzc0OTsKICB9CgogIC50cmVlcyB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogNzgwcHg7CiAgfQoKfQoK"},{"version":3,"sources":["menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"menu.vue","sourceRoot":"src/page","sourcesContent":["<template>\n\n  <el-container class=\"box\" @click.native=\"handleClick\">\n\n    <el-header>\n      <div>\n        <el-menu\n          :default-active=\"activeIndex\"\n          class=\"el-menu-demo\"\n          mode=\"horizontal\"\n          :unique-opened=\"true\"\n          menu-trigger=\"click\"\n          ref=\"topMenu\"\n          @select=\"handleSelect\"\n          @open=\"handleOpen\"\n          background-color=\"#2c3242\"\n          text-color=\"white\"\n          active-text-color=\"#359186\">\n          <el-submenu index=\"1\" >\n            <template slot=\"title\">机泵专用图谱</template>\n            <el-menu-item index=\"TrendAnalysis\" >振动监测</el-menu-item>\n          </el-submenu>\n        </el-menu>\n      </div>\n    </el-header>\n\n    <el-container class=\"content\">\n      <div class=\"left-aside\" id=\"leftAside\">\n        <div class=\"left-content\" :style=\"{width: '230px'}\" v-show=\"showMenu\">\n          <PlantTree class=\"trees\" @NowEquid=\"ChangEquId\" ></PlantTree>\n        </div>\n        <div class=\"menu-hide\">\n          <i class=\"el-icon-caret-left op-button\" v-if=\"showMenu\" v-on:click=\"changeflag\"></i>\n          <i class=\"el-icon-caret-right op-button\" v-else v-on:click=\"changeflag\"></i>\n        </div>\n      </div>\n      <div class=\"main\" :style=\"{width: nowwidth}\">\n\n        <router-view\n          @showOpPage='setOpPage'\n        ></router-view>\n\n      </div>\n    </el-container>\n  </el-container>\n\n</template>\n\n<script>\n  import PlantTree from \"../components/Tree.vue\";\n  var elementResizeDetectorMaker = require(\"element-resize-detector\");\n\n  export default {\n    // props:[username],\n    name: \"Home\",\n    data() {\n      return {\n        nowwidth: (window.screen.width - 270) + 'px',\n        showMenu: true,\n        equid: '',\n        nowpos: '',\n        nowWidth: 0,\n        nowHeight: 0,\n        nowOpenedIndex: 0,\n        isOpened: false,\n      }\n    },\n\n    mounted() {\n\n      if (document.getElementById(\"lefttupu\")) {\n        var erd = elementResizeDetectorMaker();\n        var plantHeight = elementResizeDetectorMaker();\n        let that = this;\n        that.$nextTick(function () {\n          erd.listenTo(document.getElementById(\"lefttupu\"), function (element) {\n            var width = element.offsetWidth;\n            var height = element.offsetHeight;\n            // this.nowHeight=height\n            that.$nextTick(function () {\n              console.log(\"Size: \" + width + \"x\" + height);\n              this.nowWidth = width;\n              // this.nowHeight= height.toString()+'px'\n              //  console.log(this.nowHeight)\n            });\n          });\n\n          plantHeight.listenTo(document.getElementById(\"leftAside\"), function (element) {\n            var plant_height = element.offsetHeight;\n            if (document.getElementById(\"UnitOverviewMap\")) {\n              document.getElementById(\"UnitOverviewMap\").style.height = plant_height.toString() + 'px';\n            }\n          });\n        });\n      }\n    },\n\n    computed: {\n\n      etype() {\n        return this.$store.state.etype;\n      },\n      nowequid() {\n        return this.$store.state.equid.toString();\n      },\n      nowequname() {\n        return this.$store.state.equName.toString();\n      },\n\n      activeIndex() {\n        //alert(this.$route.path.replace('/', ''));\n        return this.$route.path.replace('/', '');\n      }\n    },\n\n    watch: {\n      etype(type) {\n        console.log(type, 'qileguaile')\n        this.handleSelect(\"TrendAnalysis\");\n      }\n      \n    },\n\n\n    methods: {\n      ChangEquId() {\n        this.equid = this.$store.state.equid;\n      },\n      handleClick() {\n        // if()\n        // console.log(this.nowOpenedIndex.toString());\n        if (this.isOpened != true) {\n          this.$refs.topMenu.close(this.nowOpenedIndex.toString());\n        }\n        this.isOpened = false;\n      },\n      handleOpen(index) {\n        this.nowOpenedIndex = index;\n        // console.log(index)\n        this.isOpened = true;\n      },\n      handleSelect(index, keyPath) {\n        //     console.warn(index, keyPath);\n        if (index === 'TrendAnalysis') {\n          this.nowpos = '/TrendAnalysis';\n          this.$router.push({path: \"/TrendAnalysis\"});\n        }\n        this.$router.push({query: {equipmentUuid: this.nowequid}});\n        var erd = elementResizeDetectorMaker();\n        var plantHeight = elementResizeDetectorMaker();\n        let that = this;\n        that.$nextTick(function () {\n          erd.listenTo(document.getElementById(\"lefttupu\"), function (element) {\n            var width = element.offsetWidth;\n            var height = element.offsetHeight;\n            that.$nextTick(function () {\n              console.log(\"Size: \" + width + \"x\" + height);\n              this.nowWidth = width;\n            });\n          });\n\n          plantHeight.listenTo(document.getElementById(\"leftAside\"), function (element) {\n            var plant_height = element.offsetHeight;\n            if (document.getElementById(\"UnitOverviewMap\")) {\n              document.getElementById(\"UnitOverviewMap\").style.height = plant_height.toString() + 'px';\n            }\n          });\n        });\n\n      },\n      changeflag() {\n        if (this.showMenu === true) {\n          this.showMenu = false;\n          this.$store.state.showOp = false;\n          this.nowWidth = this.nowWidth + 230;\n          this.nowwidth = (Number(this.nowwidth) + 230) + 'px'\n          document.getElementById(\"lefttupu\").style.width = this.nowWidth.toString() + 'px';\n\n        } else {\n          this.showMenu = true;\n          this.$store.state.showOp = true;\n          this.nowWidth = this.nowWidth - 230;\n          this.nowwidth = (Number(this.nowwidth) - 230) + 'px'\n          document.getElementById(\"lefttupu\").style.width = this.nowWidth.toString() + 'px';\n\n\n        }\n      },\n      setOpPage(param) {\n        console.log(param);\n        if (param === false) {\n          this.nowWidth = this.nowWidth + 290;\n          document.getElementById(\"lefttupu\").style.width = this.nowWidth.toString() + 'px';\n        } else {\n          this.nowWidth = this.nowWidth - 290;\n          document.getElementById(\"lefttupu\").style.width = this.nowWidth.toString() + 'px';\n        }\n      }\n\n\n    },\n    components: {\n      PlantTree,\n    },\n  }\n</script>\n\n<style lang=\"scss\">\n  .box {\n    display: flex;\n    height: 100%;\n\n    .el-header {\n      background-color: #2c3242;\n      color: #fff;\n      line-height: 60px;\n      font-size: 24px;\n      font-weight: bold;\n      /*box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)*/\n      .another_item {\n        float: right;\n      }\n    }\n\n    .content {\n      // height: 100%;\n      height: calc(100% - 80px);\n      background-color: #232835;\n    }\n\n    .left-aside {\n      display: flex;\n      /* overflow: hidden;*/\n      margin: 10px;\n      background-color: #232835; //设备树背景色在这里\n      .left-content {\n        // height: 300px;\n        background: #303749;\n        overflow: auto;\n      }\n\n      .menu-hide {\n        height: 100%;\n        width: 20px;\n        float: left;\n        background-color: #232835;\n        display: flex;\n        align-items: center;\n\n        .op-button {\n          width: 20px;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background-color: #303749;\n          color: #359186;\n          position: absolute;\n          cursor: pointer;\n        }\n      }\n    }\n\n    .el-menu.el-menu--horizontal {\n      border-bottom: solid 0px #303749;\n    }\n\n    .el-aside {\n      color: #333;\n      text-align: center;\n      line-height: 205px;\n      border: 1px solid #303749;\n    }\n\n    .el-main {\n      padding: 0;\n      /*border: 1px solid #2F4554;*/\n\n    }\n\n    .main {\n      flex: 1;\n      height: 100%;\n      background: #303749;\n    }\n\n    .trees {\n      width: 100%;\n      height: 780px;\n    }\n\n  }\n\n</style>\n"]}]}